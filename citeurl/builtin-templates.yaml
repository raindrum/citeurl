####################################################
# GENERAL FEDERAL LAW & REGULATIONS
####################################################  

United States Code:
  regexes:
    - - &title '([Tt]itle )?(?P<Title>\d+) '
      - &usc (U\.?|United) ?(S\.?|States) ?C(ode|\.?)( ?[AS]\.?| Ann(otated|o?\.)| Serv(ice|\.))?
      - &section '(,? )?((&sect;|&#167|§){1,2}|[Ss]ec(tions?|t?s?\.))? ?(?P<Section>\d[\w.-]*\w|\d)'
      - &subsection '(((,? )?sub(sections?|divisions?|(sec|d(iv)?)?s?\.))? ?(?P<subsection>(\(\w{1,4}\))+))?'
    - ['[Ss]ection', *section, *subsection, ' of ', '([Tt]itle )?(?P<Title>\d+)( of the|,) ', *usc]
  idForms: &id_sec_sub
    - - &id_at '\b[Ii]d\.,?(<\/(i|em|u)>)?(,? at ?)? ?'
      - *section
      - *subsection
    - &standalone_section
      - &optional_id_at '(\b[Ii]d\.,?(<\/(i|em|u)>)?(,? at ?)?)?'
      - &mandatory_section_sign '((&sect;|&#167|§){1,2}|[Ss]ect?(ions?|s?\.)) ?'
      - *section       
      - *subsection
    - &subsection_id [*id_at, '(?P<subsection>(\(\w+\))+)']
  shortForms:
    - [*mandatory_section_sign, *section, *subsection, ' of [Tt]itle (?P<Title>\d+)']
  operations: &usc_sub
    - &usc_sub1
      token: subsection
      sub: ['\W+', '_']
    - &usc_sub2
      token: subsection
      sub: ['^_|_$', '']
  URL:
    - https://www.law.cornell.edu/uscode/text/{Title}/{Section}
    - '#{subsection}'

United States Constitution:
  regexes:
    - - &us_const '(U\.? ?S\.?|United States) ?Const(itution|\.)'
      - ',? '
      - &us_const_art '[Aa]rt(icle|\.) (?P<Article>[\dIViv]{1,3}|[Oo]ne|[Tt]wo|[Tt]hree|[Ff]our|[Ff]ive|[Ss]ix|[Ss]even)'
      - '(,? '
      - &us_const_sec '((&sect;|&#167|§){1,2}|[Ss]ect?(ions?|s?\.)) ?(?P<Section>\d+|[IVXivx]{1,7})'
      - '(,? '
      - &us_const_clause '([Cc]l(ause|s?\.) ?(?P<clause>\d+))'
      - )?)?
    - - *us_const_art
      - '(,? '
      - *us_const_sec
      - '(,? '
      - *us_const_clause
      - ')?)? (of|to) the '
      - *us_const
  broadRegexes:
    - ['(^|', *us_const, ')', *us_const_art, '(,? ', *us_const_sec, '(,? ', *us_const_clause, ')?)?(?! of)']
  idForms:
    - [*optional_id_at, *us_const_art, '(', *us_const_sec, '(', *us_const_clause, ')?)?(?! of)']
    - [*optional_id_at, *us_const_sec, '(', *us_const_clause, ')?(?! of)']
    - [*optional_id_at, *us_const_clause, '(?! of)']
  shortForms: 
    - ['[Aa]rticle (?P<Article>[\dIViv]{1,3}|[Oo]ne|[Tt]wo|[Tt]hree|[Ff]our|[Ff]ive|[Ss]ix|[Ss]even)', '(', *us_const_sec, '(', *us_const_clause, ')?)?(?! of)']
  operations:
    - token: Article
      optionalLookup: {'one':'1', 'two':'2', 'three':'3', 'four':'4', 'five':'5', 'six':'6', 'seven':'7'}
    - {token: Article, numberFormat: roman, output: _article_roman}
    - {token: Article, numberFormat: digit}
    - {token: Section, numberFormat: digit}
  URL:
    - https://constitution.congress.gov/browse/
    - article-{Article}
    - '#{_article_roman}_S{Section}'
    - _C{clause}

United States Constitution Amendments:
  regexes:
    - - *us_const
      - ',? '
      - &us_const_am '[Aa]m(endment|(end|dt?)?\.) (?P<Amendment>[\dXIVxiv]{1,3})'
      - '(,? '
      - *us_const_sec
      - '(,? '
      - *us_const_clause
      - ')?)?'
    - - *us_const_am
      - '(,? '
      - *us_const_sec
      - '(,? '
      - *us_const_clause
      - ')?)? (of|to) the '
      - *us_const
    - - (
      - *us_const_sec
      - '(,? '
      - *us_const_clause
      - )? of )?
      - &us_const_am2 ([Tt]he )?(?P<Amendment>\d{1,2}(st|nd|rd|th)|([Tt]wenty(-| )?)?([Ff]irst|[Ss]econd|[Tt]hird|[Ff]ourth|[Ff]ifth|[Ss]ixth|[Ss]eventh|[Ee]ighth|[Nn]inth)|[Tt]enth|[Ee]leventh|[Tt]welfth|([Tt]hir|[Ff]our|[Ff]if|[Ss]ix|[Ss]even|[Ee]igh|[Nn]ine)teenth|[Tt]wentieth) [Aa]m(endment|dt?\.|end\.)
      - ' ([Tt]o|[Oo]f) [Tt]he '
      - *us_const
  broadRegexes:
    - ['(^|', *us_const, ')', *us_const_am, '(,? ', *us_const_sec, '(,? ', *us_const_clause, ')?)?']
    - ['(', *us_const_sec, '(,? ', *us_const_clause, ')? of )?', *us_const_am2, '(?! to)']
  idForms:
    - [*optional_id_at, *us_const_am, '(,? ', *us_const_sec, '(,? ', *us_const_clause, ')?)?(?! of)']
    - [*optional_id_at, *us_const_sec, '(,? ', *us_const_clause, ')?(?! of)']
    - [*optional_id_at, *us_const_clause, '(?! of)']
  shortForms: 
    - ['[Aa]m(endment|(end|dt?)\.) (?P<Amendment>[\dXIVxiv]{1,3})', '(', *us_const_sec, '(', *us_const_clause, ')?)?(?! to)']
  operations:
    - {token: Amendment, sub: ['(st|nd|rd|th)$', '']}
    - token: Amendment
      optionalLookup: {'fir': '1', 'seco': '2', 'thi': '3', 'four': '4', 'fif': '5', 'six': '6', 'seven': '7', 'eigh': '8', 'nin': '9', 'ten': '10', 'eleven': '11', 'twelf': '12', 'thirteen': '13', 'fourteen': '14', 'fifteen': '15', 'sixteen': '16', 'seventeen': '17', 'eighteen': '18', 'nineteen': '19', 'twentie': '20', 'twenty[- ]?fir': '21', 'twenty(- )?seco': '22', 'twenty[- ]?thi': '23', 'twenty(- )?four': '24', 'twenty[- ]?fif': '25', 'twenty[- ]?six': '26', 'twenty[- ]?seven': '21', 'twenty[- ]?eigh': '28', 'twenty[- ]?nin': '29'}
    - {token: Amendment, numberFormat: digit}
    - {token: Section, numberFormat: digit}
  URL:
    - https://constitution.congress.gov/browse/
    - amendment-{Amendment}/
    - '#{Amendment}_S{Section}'
    - _C{clause}

U.S. Public Laws:
  regex: Pub(\.?|lic) ?L(\.?|aw) ?(No\.?)? ?(?P<Congress>\d+)[–‑-](?P<Law>\d+)
  URL: https://uscode.house.gov/statutes/pl/{Congress}/{Law}.pdf

U.S. Statutes at Large:
  regex:
    - (?P<Volume>\d+) Stat\.? (?P<Page>\d+)(, (?P<pincite>\d+))?
  URL: https://www.govinfo.gov/content/pkg/STATUTE-{Volume}/pdf/STATUTE-{Volume}-Pg{Page}.pdf

Federal Register:
  regex: (?P<Volume>\d+) (Fed\. ?Reg\.|F\.? ?R\.?) (?P<Page>\d([,\d]+\d)?)(, (?P<pincite>\d+))?
  operations:
    - token: Page
      sub: [',', '']
  URL: https://www.federalregister.gov/documents/search?conditions[term]={Volume}+FR+{Page}

Code of Federal Regulations:
  regex:
    - *title
    - &cfr (C\.? ?F\.? ?R\.?|Code of Federal Regulations)( [Pp]arts?| [Pp]ts?\.)?
    - *section
    - *subsection
  idForms: *id_sec_sub
  URL:
    - https://ecfr.federalregister.gov/cfr-reference?cfr%5Bdate%5D=current&cfr%5Breference%5D={Title} CFR {Section}
    - '#p-{Section}{subsection}'

####################################################
# FEDERAL RULES
####################################################
# These are all drawn from the Cornell website. Only
# some of them support subsectiontions, and others are a
# bit spotty, due to limitations with the Cornell site.

Federal Rules of Civil Procedure:
  regex:
    - &frcp '(F\.? ?R\.? ?C\.? ?P\.?|Fed\.? ?R(\.?|ules?) ?Civ\.? ?Pr?o?c?\.?|Federal Rules? of Civil Procedure)'
    - &rule ' ?(Rule )?(?P<Rule>\d+(\.\d+)?[a-z]?)'
    - *subsection
  idForms: &id_rule_sub
    - [*id_at, *rule, *subsection]
    - ['[Rr]ule (?P<Rule>\d+(\.\d+)?[a-z]?)(?! of)', *subsection]
    - *subsection_id
  operations: *usc_sub
  URL:
    - https://www.law.cornell.edu/rules/frcp/rule_{Rule}
    - '#rule_{Rule}_{subsection}'

Federal Rules of Appellate Procedure:
  regex:
    - (F\.? ?R\.? ?A\.? ?P\.?|Fed\.? ?R(\.?|ules?) ?App\.? ?Pr?o?c?\.?|Federal Rules? of Appellate Procedure)
    - *rule
  idForms: *id_rule_sub
  operations: *usc_sub
  URL:
    - https://www.law.cornell.edu/rules/frap/rule_{Rule}
    - '#rule_{Rule}_{subsection}'

Federal Rules of Criminal Procedure:
  regex: [&frcrp '(F\.? ?R\.? ?Cr\.? ?P\.?|Fed\.? ?R(\.?|ules?) ?Crim\.? ?Pr?o?c?\.?|Federal Rules? of Criminal Procedure)', *rule, *subsection]
  idForms: *id_rule_sub
  operations: *usc_sub
  URL:
    - https://www.law.cornell.edu/rules/frcrmp
    - /rule_{Rule}
    - '#rule_{Rule}_{subsection}'

Federal Rules of Evidence:
  regex:
    - (F\.? ?R\.? ?E\.?|Fed\.? R(\.?|ules?) ?Evid\.?|Federal Rules? of Evidence)
    - *rule
  idForms: *id_rule_sub
  URL:
    - https://www.law.cornell.edu/rules/fre/rule_{Rule}
    - '#rule_{Rule}_{subsection}'

####################################################
# SPECIFIC FEDERAL BODIES OF LAW
####################################################
# This section covers citations to U.S. code provisions
# via their pre-codification names and section numbers.
# It also has associated regulations and agency decisions,
# where applicable (and implemented).

Immigration and Nationality Act:
  regex: [&ina '(Immigration ([Aa]nd|&) Nationality Act|I\.?N\.?A\.?|I\. N\. A\.)', *section, *subsection]
  idForms: *id_sec_sub
  operations:
    - token: Section
      output: _usc_section
      lookup: {'101': '1101', '102': '1102', '103': '1103', '104': '1104', '105': '1105', '106': '1105a', '201': '1151', '202': '1152', '203': '1153', '204': '1154', '205': '1155', '206': '1156', '207': '1157', '208': '1158', '209': '1159', '210': '1160', '210a': '1161', '211': '1181', '212': '1182', '213': '1183', '213a': '1183a', '214': '1184', '215': '1185', '216': '1186a', '216a': '1186b', '217': '1187', '218': '1188', '219': '1189', '221': '1201', '222': '1202', '223': '1203', '224': '1204', '231': '1221', '232': '1222', '233': '1223', '234': '1224', '235': '1225', '235a': '1225a', '236': '1226', '236a': '1226a', '237': '1227', '238': '1228', '239': '1229', '240': '1229a', '240a': '1229b', '240b': '1229c', '240c': '1230', '241': '1231', '242': '1252', '242a': '1252a', '242b': '1252b', '243': '1253', '244': '1254a', '245': '1255', '245a': '1255a', '246': '1256', '247': '1257', '248': '1258', '249': '1259', '250': '1260', '251': '1281', '252': '1282', '253': '1283', '254': '1284', '255': '1285', '256': '1286', '257': '1287', '258': '1288', '261': '1301', '262': '1302', '263': '1303', '264': '1304', '265': '1305', '266': '1306', '271': '1321', '272': '1322', '273': '1323', '274': '1324', '274a': '1324a', '274b': '1324b', '274c': '1324c', '274d': '1324d', '275': '1325', '276': '1326', '277': '1327', '278': '1328', '279': '1329', '280': '1330', '281': '1351', '282': '1352', '283': '1353', '284': '1354', '285': '1355', '286': '1356', '287': '1357', '288': '1358', '289': '1359', '290': '1360', '291': '1361', '292': '1362', '293': '1363', '294': '1363a', '295': '1363b', '301': '1401', '302': '1402', '303': '1403', '304': '1404', '305': '1405', '306': '1406', '307': '1407', '308': '1408', '309': '1409', '310': '1421', '311': '1422', '312': '1423', '313': '1424', '314': '1425', '315': '1426', '316': '1427', '317': '1428', '318': '1429', '319': '1430', '320': '1431', '321': '1432', '322': '1433', '323': '1434', '324': '1435', '325': '1436', '326': '1437', '327': '1438', '328': '1439', '329': '1440', '329a': '1440-1', '330': '1441', '331': '1442', '332': '1443', '333': '1444', '334': '1445', '335': '1446', '336': '1447', '337': '1448', '338': '1449', '339': '1450', '340': '1451', '341': '1452', '342': '1453', '343': '1454', '344': '1455', '345': '1456', '346': '1457', '347': '1458', '348': '1459', '349': '1481', '350': '1482', '351': '1483', '352': '1484', '353': '1485', '354': '1486', '355': '1487', '356': '1488', '357': '1489', '358': '1501', '359': '1502', '360': '1503', '361': '1504', '404': '1101', '405': '1101', '406': '1101', '407': '1101', '411': '1521', '412': '1522', '413': '1523', '414': '1524', '501': '1531', '502': '1532', '503': '1533', '504': '1534', '505': '1535', '506': '1536', '507': '1537'}
    - *usc_sub1
    - *usc_sub2
  URL:
    - https://www.law.cornell.edu/uscode/text/8/{_usc_section}
    - '#{subsection}'

Internal Revenue Code:
  regex:
    - &irc '(Internal Revenue Code|I\.? ?R\.? ?C\.?)'
    - *section
    - *subsection
  idForms: *id_sec_sub
  operations: *usc_sub
  URL: 
    - https://www.law.cornell.edu/uscode/text/26/{Section}
    - '#{subsection}'

Treasury Regulations:
  regex: [&treasreg 'Treas(ury|\.?) ?Reg(ulations?|\.?)', *section, *subsection]
  idForms: *id_sec_sub
  URL:
    - https://ecfr.federalregister.gov/cfr-reference?cfr%5Bdate%5D=current&cfr%5Breference%5D=26 CFR {Section}
    - '#p-{Section}{subsection}'

National Labor Relations Act:
  regex:
    - &nlra (National Labor Relations Act|N\.? ?L\.? ?R\.? ?A\.?)
    - *section
    - *subsection
  idForms: *id_sec_sub
  operations:
    - token: Section
      output: _usc_section
      lookup: {'1':'151', '2':'152', '3':'153', '4':'154', '5':'155', '6':'156', '7':'157', '8':'158', '9':'159', '10':'160', '11':'161', '12':'162', '13':'163', '14':'164', '15':'165', '16':'166', '17':'167', '18':'168', '19':'169'}
    - *usc_sub1
    - *usc_sub2
  URL: 
    - https://www.law.cornell.edu/uscode/text/29/{_usc_section}
    - '#{subsection}'

National Labor Relations Board Decisions:
  regex: (?P<Volume>\d+) N\.? ?L\.? ?R\.? ?B\.? (?P<Page>\d+)(, (?P<pincite>\d+))?
  URL: https://www.nlrb.gov/cases-decisions/decisions/board-decisions?search_term=&volume={Volume}&page_number={Page}

National Labor Relations Board Slip Opinions:
  regex: (?P<Volume>\d+) N\.? ?L\.? ?R\.? ?B\.? (Slip Op\. )?No\. (?P<Slip>\d+)
  URL: https://www.nlrb.gov/cases-decisions/decisions/board-decisions?search_term=&volume={Volume}&slip_opinion_number={Slip}

Endangered Species Act:
  regex: [&esa '(Endangered Species Act|E\.? ?S\.? ?A\.?)', *section, *subsection]
  idForms: *id_sec_sub
  operations: *usc_sub
  operations:
    - token: Section
      output: _usc_section
      lookup: {'2':'1531', '3':'1532', '4':'1533', '5':'1534', '6':'1535', '7':'1536', '8':'1537', '8A':'1537a', '9':'1538', '10':'1539', '11':'1540', '12':'1541', '15':'1542', '17':'1543', '18':'1544'}
    - *usc_sub1
    - *usc_sub2
  URL: 
    - https://www.law.cornell.edu/uscode/text/16/{_usc_section}
    - '#{subsection}'

Clean Air Act:
  regex:
    - &caa (C\.? ?A\.? ?A\.?|Clean Air Act)
    - *section
    - *subsection
  idForms: *id_sec_sub
  operations:
    - token: Section
      output: _usc_section
      lookup: {'101':'7401', '102':'7402', '103':'7403', '104':'7404', '105':'7405', '106':'7406', '107':'7407', '108':'7408', '109':'7409', '110':'7410', '111':'7411', '112':'7412', '113':'7413', '114':'7414', '115':'7415', '116':'7416', '117':'7417', '118':'7418', '119':'7419', '120':'7420', '121':'7421', '122':'7422', '123':'7423', '124':'7424', '125':'7425', '126':'7426', '127':'7427', '128':'7428', '129':'7429', '130':'7430', '131':'7431', '160':'7470', '161':'7471', '162':'7472', '163':'7473', '164':'7474', '165':'7475', '166':'7476', '167':'7477', '168':'7478', '169':'7479', '169a':'7491', '169A':'7491', '169b':'7492', '169B':'7492', '171':'7501', '172':'7502', '173':'7503', '174':'7504', '175':'7505', '175a':'7505a', '176':'7506', '176a':'7506a', '177':'7507', '178':'7508', '179':'7509', '179b':'7509a', '181':'7511', '182':'7511a', '183':'7511b', '184':'7511c', '185':'7511d', '185a':'7511e', '185b':'7511f', '186':'7512', '187':'7512a', '188':'7513', '189':'7513a', '190':'7513b', '191':'7514', '192':'7514a', '193':'7515', '202':'7521', '203':'7522', '204':'7523', '205':'7524', '206':'7525', '207':'7541', '208':'7542', '209':'7543', '210':'7544', '211':'7545', '213':'7547', '214':'7548', '215':'7549', '216':'7550', '217':'7552', '218':'7553', '219':'7554', '231':'7571', '232':'7572', '233':'7573', '234':'7574', '241':'7581', '242':'7582', '243':'7583', '244':'7584', '245':'7585', '246':'7586', '247':'7587', '248':'7588', '249':'7589', '250':'7590', '301':'7601', '302':'7602', '303':'7603', '304':'7604', '305':'7605', '306':'7606', '307':'7607', '308':'7608', '309':'7609', '310':'7610', '311':'7611', '312':'7612', '313':'7613', '314':'7614', '315':'7615', '316':'7616', '317':'7617', '318':'7618', '319':'7619', '320':'7620', '321':'7621', '322':'7622', '323':'7624', '324':'7625', '325':'7625-1', '326':'7625a', '327':'7626', '328':'7627', '201':'7641', '401':'7651', '402':'7651a', '403':'7651b', '404':'7651c', '405':'7651d', '406':'7651e', '407':'7651f', '408':'7651g', '409':'7651h', '410':'7651i', '411':'7651j', '412':'7651k', '413':'7651l', '414':'7651m', '415':'7651n', '416':'7651o', '501':'7661', '502':'7661a', '503':'7661b', '504':'7661c', '505':'7661d', '506':'7661e', '507':'7661f', '601':'7671', '602':'7671a', '603':'7671b', '604':'7671c', '605':'7671d', '606':'7671e', '607':'7671f', '608':'7671g', '609':'7671h', '610':'7671i', '611':'7671j', '612':'7671k', '613':'7671l', '614':'7671m', '615':'7671n', '616':'7671o', '617':'7671p', '618':'7671q'}
    - *usc_sub1
    - *usc_sub2
  URL: 
    - https://www.law.cornell.edu/uscode/text/42/{_usc_section}
    - '#{subsection}'

Clean Water Act:
  regex:
    - &cwa (Clean Water Act|C\.? ?W\.? ?A\.?)
    - *section
    - *subsection
  idForms: *id_sec_sub
  operations:
    - token: Section
      output: _usc_section
      lookup: {'101':'1251', '112':'1262', '115':'1265', '301':'1311', '302':'1312', '303':'1313', '304':'1314', '305':'1315', '306':'1316', '307':'1317', '308':'1318', '309':'1319', '310':'1320', '316':'1326', '319':'1329', '401':'1341', '402':'1342', '403':'1343', '404':'1344', '405':'1345', '406':'1346', '501':'1361', '502':'1362', '505':'1365', '509':'1369', '510':'1370', '511':'1371', '517':'1376', '518':'1377'}
    - *usc_sub1
    - *usc_sub2
  URL: 
    - https://www.law.cornell.edu/uscode/text/33/{_usc_section}
    - '#{subsection}'

Fair Housing Act:
  regex:
    - &fha (Fair Housing Act|F\.? ?H\.? ?A\.?)
    - *section
    - *subsection
  idForms: *id_sec_sub
  operations:
    - token: Section
      output: _usc_section
      lookup: {'801':'3601', '802':'3602', '803':'3603', '804':'3604', '805':'3605', '806':'3606', '807':'3607', '808':'3608', '808a':'3608a', '809':'3609', '810':'3610', '811':'3611', '812':'3612', '813':'3613', '814':'3614', '814a':'3614-1', '815':'3614a', '816':'3615', '817':'3616', '817a':'3616a', '818':'3617', '819':'3618', '820':'3619', '901':'3631'}
    - *usc_sub1
    - *usc_sub2
  URL: 
    - https://www.law.cornell.edu/uscode/text/42/{_usc_section}
    - '#{subsection}'

Americans With Disabilities Act:
  regex:
    - &ada (Americans [Ww]ith Disabilities Act|A\. D\. A\.|A\.?D\.?A\.?)
    - *section
    - *subsection
  idForms: *id_sec_sub
  operations:
    - token: Section
      output: _usc_section
      lookup: {'2':'12101', '3':'12102', '101':'12111', '102':'12112', '103':'12113', '104':'12114', '105':'12115', '106':'12116', '107':'12117', '201':'12131', '202':'12132', '203':'12133', '204':'12134', '221':'12141', '222':'12142', '223':'12143', '224':'12144', '225':'12145', '226':'12146', '227':'12147', '228':'12148', '229':'12149', '230':'12150', '241':'12161', '242':'12162', '243':'12163', '244':'12164', '245':'12165', '301':'12181', '302':'12182', '303':'12183', '304':'12184', '305':'12185', '306':'12186', '307':'12187', '308':'12188', '309':'12189', '501':'12201', '502':'12202', '503':'12203', '504':'12204', '505':'12205', '506':'12206', '507':'12207', '508':'12208', '509':'12209', '510':'12210', '511':'12211', '513':'12212', '514':'12213'}
    - *usc_sub1
    - *usc_sub2
  URL: 
    - https://www.law.cornell.edu/uscode/text/42/{_usc_section}
    - '#{subsection}'

####################################################
# MODEL RULES
####################################################

Uniform Commercial Code:
  regex:
    - &ucc '(Uniform Commercial Code|U\.? ?C\.? ?C\.?)( ?§)? (?P<Article>\d[a-z]?)[-‑–](?P<Section>\d+)'
    - *subsection
  operations: # only include the first subsection tag in the URL
    - token: subsection
      sub: ['\).+', ')']
  URL:
    - https://www.law.cornell.edu/ucc/{Article}/{Article}-{Section}
    - '#{Article}-{Section}{subsection}'

####################################################
# STATES AND TERRITORIES
####################################################

Code of Alabama, 1975:
  regex:
    - &al_name '(Ala(bama|\.)|AL)'
    - &rev_ann_code_stat '( ?Rev(ised|\.))?( ?Ann(otated|\.))?( ?Gen(eral|\.))? ?(Codes?|Stat(utes|s?\.?))( ?Ann(otated|\.))?,? ?'
    - &title_dash_chapter_dash_section '((Sections?|(&sect;|&#167|§){1,2}) ?)?(?P<Title>\d+(\.\d+)?[A-Za-z]?)[-‑–](?P<Chapter>\d+(\.\d+)?[A-Za-z]?)[-‑–](?P<Section>\d+(\.\d+)?)'
    - *subsection
  operations:
    - token: Title
      case: upper
    - token: Chapter
      case: upper
  idForms: &title_dash_chapter_dash_section_id
    - [*optional_id_at, *title_dash_chapter_dash_section, *subsection]
    - *subsection_id
  URL: http://alisondb.legislature.state.al.us/alison/CodeOfAlabama/1975/{Title}-{Chapter}-{Section}.htm

Alabama Constitution:
  regex:
    - *al_name
    - &const_art_sec_cl ' ?Const(itution|\.) ?[Aa]rt(icle|\.) ?(?P<Article>[\dIVXivx]{1,8})(,? ?((&sect;|&#167|§){1,2}|[Ss]ect?(ions?|s?\.)) ?(?P<Section>(\d[\w.]*\w|\d))(,? ([Cc]l(ause|s?\.) ?(?P<clause>\d+)))?)?'
  idForms: &const_art_sec_cl_ids
    - [*optional_id_at, '\b[Aa]rt(icle|\.) ?(?P<Article>[\dIVXivx]{1,3})(,? ?((&sect;|&#167|§){1,2}|[Ss]ect?(ions?|s?\.))? ?(?P<Section>(\d[\w.]*\w|\d|[IVXivx]{1,7}))(,? ([Cc]l(ause|s?\.) ?(?P<clause>\d+)))?)?']
    - [*optional_id_at, '((&sect;|&#167|§){1,2}|[Ss]ect?(ions?|s?\.)) ?(?P<Section>(\d[\w.]*\w|\d|[IVXivx]{1,7}))(,? ([Cc]l(ause|s?\.) ?(?P<clause>\d+)))?']
    - [*optional_id_at, '\b[Cc]l(ause|s?\.) ?(?P<clause>\d+)']
  operations: [{token: Article, numberFormat: roman}]
  URL:
    - https://ballotpedia.org/Article_{Article},_Alabama_Constitution
    - '#Section_{Section}'

Alaska Statutes:
  regex:
    - &ak_name (Alaska|AK)
    - *rev_ann_code_stat
    - &title_dot_chapter_dot_section '((Sections?|(&sect;|&#167|§){1,2}) ?)?(?P<Title>\d+[A-Za-z]?)\.(?P<Chapter>\d+[A-Za-z]?)\.(?P<Section>\d+[A-Za-z]?)'
    - *subsection
  idForms: &title_dot_chapter_dot_section_id
    - [*optional_id_at, *title_dot_chapter_dot_section, *subsection]
    - *subsection_id
  URL: http://www.akleg.gov/basis/statutes.asp#{Title}.{Chapter}.{Section}

Alaska Constitution:
  regex: [*ak_name, *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: [{token: Article, numberFormat: roman}]
  URL:
    - https://ballotpedia.org/Article_{Article},_Alaska_Constitution
    - '#Section_{Section}'

American Samoa Code:
  regex:
    - &american_samoa_name Am(erican|\.) ?Samoa
    - *rev_ann_code_stat
    - ' ?((Sections?|(&sect;|&#167|§){1,2}) ?)?(?P<Title>\d+)\.(?P<Section>\d+)'
    - *subsection
  idForms: *id_sec_sub
  URL: https://new.asbar.org/code-annotated/{Title}-{Section}

American Samoa Constitution:
  regex: [*american_samoa_name, *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: [{token: Article, numberFormat: roman}]
  URL:
    - https://ballotpedia.org/Article_{Article},_American_Samoa_Constitution
    - '#Section_{Section}'

Arkansas Code:
  regex:
    - &ar_name (Ark(ansas|\.)|AR)
    - *rev_ann_code_stat
    - *title_dash_chapter_dash_section
    - *subsection
  idForms: *title_dash_chapter_dash_section_id
  # no URL because they use LexisNexis; Justia URLs too irregular; unavailable on LawServer.com

Arkansas Constitution:
  regex: [*ar_name, *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: &roman_art_sec_to_arabic
    - token: Article
      numberFormat: digit
    - token: Section
      numberFormat: digit
  URL:
    - https://ballotpedia.org/Article_{Article},_Arkansas_Constitution
    - '#Section_{Section}'

Arizona Revised Statutes:
  regex:
    - &az_name (Ariz(ona|\.)|AZ)
    - *rev_ann_code_stat
    - &title_dash_section '((Sections?|(&sect;|&#167|§){1,2}) ?)?(?P<Title>\d+(\.\d+)?[A-Z]?)-(?P<Section>\d+(\.\d+)?[A-Z]?)'
    - *subsection
  idForms: &title_dash_section_id
    - [*id_at, *title_dash_section, *subsection]
    - [*optional_id_at, *mandatory_section_sign, *title_dash_section, *subsection]
    - *subsection_id
    - *standalone_section
  operations:
    - token: Section
      sub: ['\.', '-']
    - token: Section
      lpad: 5
  URL: https://www.azleg.gov/viewdocument/?docName=https://www.azleg.gov/ars/{Title}/{Section}.htm

Arizona Constitution:
  regex: [*az_name, *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: *roman_art_sec_to_arabic
  URL:
    - https://ballotpedia.org/Article_{Article},_Arizona_Constitution
    - '#Section_{Section}'
# need to add support for article 6.1 / VI.I

California Codes:
  regex:
    - &ca_name (Cal(ifornia|(if)?\.)|CAL?)
    - ' ?(?P<_code>[BCDEFGHILMPRSUVW].{2,40}?)( ?C(ode|\.)( Ann(otated|\.))?,?)?'
    - *section
    - *subsection
  idForms: *id_sec_sub
  shortForms:
    - ['{Code}', *section, *subsection]
    - ['{_code}( Code)?', *section, *subsection]
  operations:
    - token: _code
      output: Code
      lookup: {'Bus(iness|\.) (and|&) Prof(essions|s?\.)|B\.? ?& ?P\.?|BPC':'BPC', 'Civ(il|\.)|CIV':'CIV', '(Code( of)? )?(Civil Procedure|Civ\. ?P(roc?)?\.)|CCP':'CCP', 'Commercial|Comm?\.|COM':'COM', 'Corp(orations?|\.)|CORP':'CORP', 'Educ(ation|\.)|EDU?C':'EDC', 'Elec(tions|\.)|ELEC':'ELEC', 'Evid(ence|\.)|EVID':'EVID', 'Fam(ily|\.)|FAM':'FAM', 'Fin(ancial|\.)|FIN':'FIN', 'Fish (and|&) Game|FGC|F&G':'FGC', 'Food (and|&) Agric(ultural|\.)|FAC':'FAC', 'Gov(ernment|''?t?\.?)|GOV':'GOV', 'Harb(ors|\.) (and|&) Nav(igation|\.)|HNC|H&N':'HNC', 'Health (and|&) Saf(ety|\.)|HSC|H&S':'HSC', 'Ins(urance|\.)|INS':'INS', 'Lab(or|\.)|LAB':'LAB', 'Mil(itary|\.) (and|&) Vet(erans|\.)|MVC|M&V':'MVC', 'Penal|PEN':'PEN', 'Prob(ate|\.)|PROB':'PROB', 'Pub(lic|\.) Cont(ract|\.)|PCC':'PCC', 'Pub(lic|\.) ?Res(ources|\.)|PRC':'PRC', 'Pub(lic|\.) Util(ities|s?\.)|PUC':'PUC', 'Rev(enue|\.) (and|&) Tax(ation|\.)|RTC|R&T':'RTC', 'St(reets|s\.) (and|&) High(ways|\.)|SHC|S&H':'SHC', 'Unemp(loyment|\.) Ins(urance|(ur)?\.)|UIC':'UIC', 'Veh(icle|(ic)?\.)|VEH':'VEH', 'Water|WAT':'WAT', 'Welf(are|\.) (and|&) Inst(itutions|s?\.)|WIC':'WIC'}
  URL: https://leginfo.legislature.ca.gov/faces/codes_displaySection.xhtml?lawCode={Code}&sectionNum={Section}

California Constitution:
  regex: [*ca_name, *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  defaults: {'_display_type':'Text'}
  operations:
    - token: Article
      numberFormat: roman
    - token: Section
      output: _display_type
      optionalLookup: {'.+': 'Section'}
  URL:
    - https://leginfo.legislature.ca.gov/faces/codes_display{_display_type}.xhtml?lawCode=CONS
    - '&article={Article}'
    - '&sectionNum=SEC. {Section}.'

California Code of Regulations:
  regex:
    - '(?P<Title>\d+) (CA|Cal(ifornia|\.) Code of Reg(ulations|s\.)|CA ADR)'
    - *section
  URL: 'https://govt.westlaw.com/calregs/Search/Results?transitionType=Default&contextData=(sc.Default)&t_T1={Title}&t_T2={Section}&t_S1=CA ADC s&Page=1&query=advanced: CI("{Title} CA ADC s {Section}")&Template=Find'

Colorado Revised Statutes:
  regex:
    - &co_name (Colo(rado|\.)|CO)
    - *rev_ann_code_stat
    - &title_dash_article_dash_section '((Sections?|(&sect;|&#167|§){1,2}) ?)?(?P<Title>\d+(\.\d+)?)[-‑–](?P<Article>\d+(\.\d+)?)[-‑–](?P<Section>\d+(\.\d+)?)'
    - *subsection
    - &year (,? \((?P<Year>\d{4})\))?
  idForms:
    - [*optional_id_at, *title_dash_article_dash_section, *subsection]
    - *standalone_section
    - *subsection_id
  defaults: {'Year':'2020'} # needs yearly updates
  operations:
    - token: Title
      output: _lpad_title
      lpad: 2
    - token: Year
      output: _supported_year
      sub: ['', '']
    - token: _supported_year # force pre-2013 to current year
      optionalLookup: {'1[89]\d{2}|200\d|201[0-2]':'2020'} # needs yearly updates
  URL: https://leg.colorado.gov/sites/default/files/images/olls/crs{_supported_year}-title-{_lpad_title}.pdf#search={Title}-{Article}-{Section}.

Colorado Constitution:
  regex: [*co_name, *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: &article_to_roman
    - token: Article
      numberFormat: roman
  URL:
    - https://ballotpedia.org/Article_{Article},_Colorado_Constitution
    - '#Section_{Section}'

General Statutes of Connecticut:
  regex:
    - &ct_name (Conn(ecticut|\.)|CT)
    - *rev_ann_code_stat
    - &conn_section '((Sections?|(&sect;|&#167|§){1,2}) ?)?(?P<Section>(\d[a-z\-]*[\w]+))'
    - *subsection
  idForms:
    - [*id_at, *conn_section, *subsection]
    - [*optional_id_at, *mandatory_section_sign, *conn_section, *subsection]
    - *subsection_id
  URL: https://www.lawserver.com/law/state/connecticut/ct-laws/connecticut_statutes_{Section}

Connecticut Constitution:
  regex: [*ct_name, *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: *article_to_roman
  URL:
    - https://ballotpedia.org/Article_{Article},_Connecticut_Constitution
    - '#Section_{Section}'

Delaware Code:
  regex:
    - '([Tt]it(le|\.) )?(?P<Title>\d{1,2}),? '
    - &de_name (Del(aware|\.)|DE)
    - ' ?C(ode|\.)'
    - *section
    - *subsection
  idForms: *id_sec_sub
  operations:
    - token: Section
      case: lower
  URL: https://www.lawserver.com/law/state/delaware/de-code/delaware_code_title_{Title}_{Section}

Delaware General Corporations Law:
  regex:
    - (D\.? ?G\.? ?C\.? ?L\.?|Del(aware|\.) ?Gen(eral|\.) ?Corp(orations?|s?\.) ?L(aw|\.))
    - *section
    - *subsection
  idForms: *id_sec_sub
  operations:
    - token: Section
      output: subchapter
      lookup: {'1[01]\d': '01', '12\d': '02', '13\d': '03', '14\d': '04', '1[5-7]\d': '05', '20\d': '06', '2[1-3]\d': '07', '24\d': '08', '2[56]\d': '09', '2[78]\d': '10', '29\d|30\d': '11', '31\d': '12', '3[23]\d': '13', '3[45]\d': '14', '36\d': '15', '37\d|38[0-5]': '16', '38[89]|390': '17', '39[1-9]': '18'}
  URL: https://delcode.delaware.gov/title8/c001/sc{subchapter}/index.shtml#{Section}.

Delaware Constitution:
  regex: [*de_name, *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: *article_to_roman
  URL:
    - https://ballotpedia.org/Article_{Article},_Delaware_Constitution
    - '#Section_{Section}'

District of Columbia Official Code:
  regex:
    - &dc_name (District of Columbia( Official)?|D\.? ?C\.?)
    - *rev_ann_code_stat
    - *title_dash_section
    - *subsection
  idForms: *title_dash_section_id
  URL:
    - https://code.dccouncil.us/dc/council/code/sections/{Title}-{Section}.html
    - '#{subsection}'

Florida Statutes:
  regex:
    - &fl_name (Fl(orida|a?\.)|FL)
    - *rev_ann_code_stat
    - &ch_dot_sec '((Sections?|(&sect;|&#167|§){1,2}) ?)?(?P<Chapter>\d+[A-Z]?)\.(?P<Section>\d+\w?)'
    - *subsection
    - *year
  defaults: {'Year':'2020'} # this must be updated yearly, unfortunately
  operations:
    - token: Chapter
      lpad: 4
  idForms: &ch_dot_sec_id
    - [*id_at, *ch_dot_sec, *subsection]
    - [*optional_id_at, *mandatory_section_sign, *ch_dot_sec, *subsection]
    - *subsection_id
  URL: https://www.flsenate.gov/Laws/Statutes/{Year}/{Chapter}.{Section}

Florida Constitution:
  regex: [*fl_name, *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations:
    - token: Section
      lpad: 2
    - token: Article
      numberFormat: digit
  URL:
    - https://www.flsenate.gov/Laws/Constitution#A{Article}
    - S{Section}

Georgia Code:
  regex:
    - '('
    - &ga_name G(eorgia|a\.|A)
    - *rev_ann_code_stat
    - '|O\.? ?C\.? ?G\.? ?A\.? )'
    - *title_dash_chapter_dash_section
    - *subsection
  idForms: *title_dash_chapter_dash_section_id
  # no URL because Georgia uses LexisNexis, and Justia URLs need article numbers

Georgia Constitution:
  regex:
    - *ga_name
    - &const_art_sec_par ' ?Const(itution|\.) ?[Aa]rt(icle|\.) ?(?P<Article>[\dIVXivx]{1,8})(,? ?((&sect;|&#167|§){1,2}|[Ss]ect?(ions?|s?\.)) ?(?P<Section>(\d[\w.]*\w|\d))(,? ([Pp]ar(agraph|a?\.) ?(?P<paragraph>[\dIVXivx]{1,8})))?)?'
  idForms: &const_art_sec_par_ids
    - [*optional_id_at, '\b[Aa]rt(icle|\.) ?(?P<Article>[\dIVXivx]{1,4})(,? ?((&sect;|&#167|§){1,2}|[Ss]ect?(ions?|s?\.))? ?(?P<Section>(\d[\w.]*\w|\d))(,? ([Pp]ar(agraph|a?\.) ?(?P<paragraph>[\dIVXivx]{1,8}))?)?)?']
    - [*optional_id_at, '((&sect;|&#167|§){1,2}|[Ss]ect?(ions?|s?\.)) ?(?P<Section>(\d[\w.]*\w|\d))(,? ([Pp]ar(agraph|a?\.) ?(?P<paragraph>[\dIVXivx]{1,8})))??']
    - [*optional_id_at, '\b([Pp]ar(agraph|a?\.) ?(?P<paragraph>[\dIVXivx]{1,8})']
  defaults: {'paragraph':'1'}
  operations: *article_to_roman
  URL: https://ballotpedia.org/Article_{Article},_Georgia_Constitution
  # Can't link to specific section or paragraph because the anchor links
  # for sections require names, the ones for paragraphs vary based on how
  # many times "Paragraph X" has appeared on the page before

Guam Code:
  regex:
    - (?P<Title>\d+) Guam
    - *rev_ann_code_stat
    - *section
    - *subsection
  idForms: *id_sec_sub
  # no URL because guamcourts.org and Justia URLs need chapter numbers, and I can't find any other sources

Hawaii Revised Statutes:
  regex:
    - &hi_name (Haw(ai.?i|\.)|HI)
    - *rev_ann_code_stat
    - &chapter_dash_section '((Sections?|(&sect;|&#167|§){1,2}) ?)?(?P<Chapter>\d+[A-Z]?)[-‑–](?P<Section>\d+(\.\d+)?)'
    - *subsection
  idForms: &chapter_dash_section_id
    - [*id_at, *chapter_dash_section, *subsection]
    - [*optional_id_at, *mandatory_section_sign, *chapter_dash_section, *subsection]
    - *subsection_id
  URL: https://www.lawserver.com/law/state/hawaii/hi-statutes/hawaii_statutes_{Chapter}-{Section}

Hawaii Constitution:
  regex: [*hi_name, *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: *article_to_roman
  URL:
    - https://ballotpedia.org/Article_{Article},_Hawaii_Constitution
    - '#Section_{Section}'

Idaho Code:
  regex:
    - &idaho_name I(daho|D)
    - *rev_ann_code_stat
    - &idaho_title_dash_section '((Sections?|(&sect;|&#167|§){1,2}) ?)?(?P<Title>\d+[A-Z]?)[-‑–](?P<Section>(?P<Chapter>\d{1,2})\d{2}[A-Z]?)'
    - *subsection
  idForms:
    - [*optional_id_at, *mandatory_section_sign, *idaho_title_dash_section, *subsection]
    - *subsection_id
  URL: https://legislature.idaho.gov/statutesrules/idstat/Title{Title}/T{Title}CH{Chapter}/SECT{Title}-{Section}/

Idaho Constitution:
  regex: [*idaho_name, *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: *article_to_roman
  URL:
    - https://ballotpedia.org/Article_{Article},_Idaho_Constitution
    - '#Section_{Section}'

Illinois Compiled Statutes:
  regex: '([Cc]h(apter|\.) )?(?P<Chapter>\d+) (ILCS|Ill(inois|\.) Comp(iled|\.) Stat(utes|\.)) (?P<act>\d+)/(?P<Section>(\d[\d.-]*\w|\d))'
  idForms: *id_sec_sub
  operations:
    - token: Chapter
      lpad: 4
    - token: act
      lpad: 4
  URL: https://www.ilga.gov/legislation/ilcs/fulltext.asp?DocName={Chapter}{act}0K{Section}

Illinois Constitution:
  regex: ['(Il(linois|l?\.)|IL)', *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: *article_to_roman
  URL:
    - https://ballotpedia.org/Article_{Article},_Illinois_Constitution
    - '#Section_{Section}'

Indiana Code:
  regex:
    - &in_name (Ind(iana|\.)|IN)
    - *rev_ann_code_stat
    - &title_dash_article_dash_chapter_dash_section '((Sections?|(&sect;|&#167|§){1,2}) ?)?(?P<Title>\d+)-(?P<Article>\d+(\.\d+)?)-(?P<Chapter>\d+(\.\d+)?)-(?P<Section>\d+(\.\d+)?)'
    - *year
  idForms:
    - [*optional_id_at, *title_dash_article_dash_chapter_dash_section]
  defaults: {'Year':'2020'} # this must be updated yearly, unfortunately
  operations:
    - token: Title
      lpad: 2
  URL: https://iga.in.gov/legislative/laws/{Year}/ic/titles/{Title}#{Title}-{Article}-{Chapter}-{Section}

Indiana Constitution:
  regex: [*in_name, *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: *roman_art_sec_to_arabic
  URL:
    - https://ballotpedia.org/Article_{Article},_Indiana_Constitution
    - '#Section_{Section}'

Iowa Code:
  regex:
    - &ia_name I(owa|A)
    - *rev_ann_code_stat
    - *ch_dot_sec
    - *subsection
  idForms: *ch_dot_sec_id
  URL: https://www.legis.iowa.gov/docs/code/{Chapter}.{Section}.pdf

Iowa Constitution:
  regex: [*ia_name, *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: *article_to_roman
  URL:
    - https://ballotpedia.org/Article_{Article},_Iowa_Constitution
    - '#Section_{Section}'
# need to add support for legislative department

Kansas Statutes:
  regex:
    - &ks_name (Kan(sas|\.)|KS)
    - *rev_ann_code_stat
    - *chapter_dash_section
    - *subsection
  idForms: *chapter_dash_section_id
  URL: https://www.lawserver.com/law/state/kansas/ks-statutes/kansas_statutes_{Chapter}-{Section}

Kansas Constitution:
  regex:
    - *ks_name
    - &const_art_or_other_sec_cl ' ?Const(itution|\.) ?([Aa]rt(icle|\.) ?(?P<Article>[\dIVXivx]{1,8})|(?P<part>Bill of Rights|Preamble))(,? ?((&sect;|&#167|§){1,2}|[Ss]ect?(ions?|s?\.)) ?(?P<Section>(\d[\w.]*\w|\d))(,? ([Cc]l(ause|s?\.) ?(?P<clause>\d+)))?)?'
  idForms: &const_art_or_other_sec_cl_ids
    - [*optional_id_at, '\b([Aa]rt(icle|\.) ?(?P<Article>[\dIVXivx]{1,8})|(?P<part>Bill of Rights|Preamble))(,? ?((&sect;|&#167|§){1,2}|[Ss]ect?(ions?|s?\.))? ?(?P<Section>(\d[\w.]*\w|\d|[IVXivx]{1,7}))(,? ([Cc]l(ause|s?\.) ?(?P<clause>\d+)))?)?']
    - [*optional_id_at, '((&sect;|&#167|§){1,2}|[Ss]ect?(ions?|s?\.)) ?(?P<Section>(\d[\w.]*\w|\d|[IVXivx]{1,7}))(,? ([Cc]l(ause|?\.) ?(?P<clause>\d+)))?']
    - [*optional_id_at, '\b[Cc]l(ause|s?\.) ?(?P<clause>\d+)']
  operations:
    - token: Article
      numberFormat: roman
    - token: Section
      numberFormat: roman
    - token: part
      sub: [' ', '_']
  URL:
    - https://ballotpedia.org/
    - Article_{Article}
    - '{part}'
    - ',_Kansas_Constitution'
    - '#Section_{Section}'

Kentucky Revised Statutes:
  regex:
    - '('
    - &ky_name K(entucky|y\.|Y)
    - *rev_ann_code_stat
    - '|KRS )'
    - &ky_ch_dot_sec '((Sections?|(&sect;|&#167|§){1,2}) ?)?(?P<Chapter>(\d[\d.]*\w|\d))\.(?P<Section>\d+)'
    - *subsection
  idForms:
    - [*optional_id_at, *mandatory_section_sign, *ky_ch_dot_sec, *subsection]
    - [*id_at, *section, *subsection]
    - *standalone_section
    - *subsection_id
  operations:
    - token: Chapter
      case: lower
      sub: ['\.', '-']
  URL: https://www.lawserver.com/law/state/kentucky/ky-statutes/kentucky_statutes_{Chapter}-{Section}

Kentucky Constitution:
  regex:
    - *ky_name
    - ' ?Const(itution|\.),?'
    - ( ?(Art(icle|\.) ?)?([IVXivx]{1,7}|\d{1,2}|Bill of Rights|Rights of Victims of Crime|Dist(ribution|\.) of the Powers of Gov(ernment|('t)?\.?)|(The )?(Leg(islative|(is)?\.)|Exec(utive|\.)|Jud(icial|\.)) ?Dep(artment|('t)?\.?)|Counties (and|&) County Seats|Impeachments|(C(ounty|ty\.)|Fisc(al|\.)) ?C(ourts|ts\.)|Justices of the Peace|Suff(rage|\.) ?(and|&) ?Elec(tions|\.)|Mun(icipalities|i?\.)|Rev(enue|\.) ?(and|&) ?Tax(ation|\.?)|Educ(ation|\.)|Corp(orations?|s?\.)|R(ailroads|\.R\.) (and|&) Com(merce|m?\.)|(The )?Militia|Gen(eral|\.) ?Prov(isions|s?\.)|Mode of Rev(ision|\.)),?)?
    - *section
  operations:
    - token: Section
      output: _web_section_no
      lookup: {'1':'3', '2':'4', '3':'5', '4':'6', '5':'7', '6':'8', '7':'9', '8':'10', '9':'11', '10':'12', '11':'13', '12':'14', '13':'15', '14':'16', '15':'17', '16':'18', '17':'19', '18':'20', '19':'21', '20':'22', '21':'23', '22':'24', '23':'25', '24':'26', '25':'27', '26':'28', '26A':'305', '27':'30', '28':'31', '29':'33', '30':'34', '31':'35', '32':'36', '33':'37', '34':'38', '35':'39', '36':'40', '37':'41', '38':'42', '39':'43', '40':'44', '41':'45', '42':'46', '43':'47', '44':'48', '45':'49', '46':'50', '47':'51', '48':'52', '49':'53', '50':'54', '51':'55', '52':'56', '53':'57', '54':'58', '55':'59', '56':'60', '57':'61', '58':'62', '59':'63', '60':'64', '61':'65', '62':'66', '63':'68', '64':'69', '65':'70', '66':'72', '67':'73', '68':'74', '69':'77', '70':'78', '71':'79', '72':'80', '73':'81', '74':'82', '75':'83', '76':'84', '77':'85', '78':'86', '79':'87', '80':'88', '81':'89', '82':'90', '83':'91', '84':'92', '85':'93', '86':'94', '87':'95', '88':'96', '89':'97', '90':'98', '91':'99', '92':'100', '93':'101', '94':'102', '95':'103', '96':'104', '97':'106', '98':'107', '99':'108', '100':'109', '101':'110', '102':'111', '103':'112', '104':'113', '105':'114', '106':'115', '107':'116', '108':'117', '109':'119', '110':'121', '111':'123', '112':'125', '113':'127', '114':'129', '115':'131', '116':'132', '117':'134', '118':'135', '119':'136', '120':'137', '121':'138', '122':'139', '123':'140', '124':'141', '125':'142', '126':'143', '127':'144', '128':'145', '129':'146', '130':'147', '131':'148', '132':'149', '133':'150', '134':'151', '135':'152', '136':'153', '137':'154', '138':'155', '139':'156', '140':'158', '141':'159', '142':'161', '143':'162', '144':'164', '145':'166', '146':'167', '147':'168', '148':'169', '149':'170', '150':'171', '151':'172', '152':'173', '153':'174', '154':'175', '155':'176', '156':'180', '156A':'177', '156B':'178', '157':'183', '157A':'181', '157B':'182', '158':'184', '159':'185', '160':'186', '161':'187', '162':'188', '163':'189', '164':'190', '165':'191', '166':'192', '167':'193', '168':'194', '169':'196', '170':'197', '171':'198', '172':'201', '172A':'199', '172B':'200', '173':'202', '174':'203', '175':'204', '176':'205', '177':'206', '178':'207', '179':'208', '180':'209', '181':'210', '182':'211', '183':'213', '184':'214', '185':'215', '186':'216', '187':'217', '188':'218', '189':'219', '190':'221', '191':'222', '192':'223', '193':'224', '194':'225', '195':'226', '196':'227', '197':'228', '198':'229', '199':'230', '200':'231', '201':'232', '202':'233', '203':'234', '204':'235', '205':'236', '206':'237', '207':'238', '208':'239', '210':'242', '211':'243', '212':'244', '213':'245', '214':'246', '215':'247', '216':'248', '217':'249', '218':'250', '219':'252', '220':'253', '221':'254', '222':'255', '223':'256', '224':'258', '225':'259', '226':'261', '226A':'260', '227':'262', '228':'263', '229':'264', '230':'265', '231':'266', '232':'267', '233':'269', '233A':'268', '234':'270', '235':'271', '236':'272', '237':'273', '238':'274', '239':'275', '240':'276', '241':'277', '242':'278', '243':'279', '244':'281', '244A':'280', '245':'282', '246':'283', '247':'284', '248':'285', '249':'286', '250':'287', '251':'288', '252':'289', '253':'290', '254':'291', '255':'292', '255A':'302', '256':'294', '257':'295', '258':'296', '259':'297', '260':'298', '261':'299', '252':'300', '263':'301'}
  URL: https://apps.legislature.ky.gov/Law/Constitution/Constitution/ViewConstitution?rsn={_web_section_no}

Louisiana Statutes:
  regex:
    - &la_name L(ouisiana|a\.|A)
    - *rev_ann_code_stat
    - &title_colon_section '((Sections?|(&sect;|&#167|§){1,2}) ?)?(?P<Title>\d+[A-Z]?):(?P<Section>\d+(\.\d+)?)'
    - *subsection
  idForms:
    - [*optional_id_at, *mandatory_section_sign, *title_colon_section, *subsection]
    - *standalone_section
    - *subsection_id
  URL: https://www.lawserver.com/law/state/louisiana/la-laws/louisiana_revised_statutes_{Title}-{Section}

Louisiana Codes:
  regex:
    - L(ouisiana|a\.|A) ?(?P<Code>Civ(il|\.) ?Code|Code( of)? ((Civ(il|\.)|Crim(inal|\.)) ?Proc(edure|\.)|Evid(ence|\.))|Child(ren'?s|\.) ?Code)( Ann(otated|\.))?,?( [Aa]rt(icle|\.))? (?P<Article>\d+)
    - *subsection
  operations:
    - token: Code
      lookup: {'Civ(il|\.) ?Code':'civil_code', 'Code( of)? Civ(il|\.) ?Proc(edure|\.)':'code_of_civil_procedure', 'Code( of)? Crim(inal|\.) ?Proc(edure|\.)':'code_of_criminal_procedure', 'Code( of)? Evid(ence|\.)':'code_of_evidence', 'Child(ren''?s|\.) ?Code':'childrens_code'}
  URL: https://www.lawserver.com/law/state/louisiana/la-codes/louisiana_{Code}_{Article}

Louisiana Constitution:
  regex: [*la_name, *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: *article_to_roman
  URL:
    - https://ballotpedia.org/Article_{Article},_Louisiana_Constitution
    - '#Section_{Section}'

Maine Statutes:
  regex:
    - &me_name M(aine|e\.|E)
    - *rev_ann_code_stat
    - &standalone_title ',? [Tt]it(le|\.) ?(?P<Title>\d+([-‑–][A-Z])?),?'
    - *section
    - *subsection
  idForms: *id_sec_sub
  operations:
    - token: Title
      sub: ['—', '-']
    - token: Section
      sub: ['—', '-']
  URL: https://legislature.maine.gov/legis/statutes/{Title}/title{Title}sec{Section}.html

Maine Constitution:
  regex:
    - *me_name
    - &const_art_pt_sec_cl ' ?Const(itution|\.) ?[Aa]rt(icle|\.) ?(?P<Article>[\dIVXivx]{1,8})(,? [Pp](art|t\.) ?(?P<part>\d))?(,? ?((&sect;|&#167|§){1,2}|[Ss]ect?(ions?|s?\.)) ?(?P<Section>(\d[\w.]*\w|\d))(,? ([Cc]l(ause|s?\.) ?(?P<clause>\d+)))?)?'
  idForms: &const_art_pt_sec_cl_ids
    - [*optional_id_at, '\b[Aa]rt(icle|\.) ?(?P<Article>[\dIVXivx]{1,3})(,? [Pp](art|t\.) ?(?P<part>\d))?(,? ?((&sect;|&#167|§){1,2}|[Ss]ect?(ions?|s?\.))? ?(?P<Section>(\d[\w.]*\w|\d|[IVXivx]{1,7}))(,? ([Cc]l(ause|s?\.) ?(?P<clause>\d+)))?)?']
    - [*optional_id_at, '((&sect;|&#167|§){1,2}|[Ss]ect?(ions?|s?\.)) ?(?P<Section>(\d[\w.]*\w|\d|[IVXivx]{1,7}))(,? ([Cc]l(ause|s?\.) ?(?P<clause>\d+)))?']
    - [*optional_id_at, '\b[Cc]l(ause|s?\.) ?(?P<clause>\d+)']
  operations:
    - token: Article
      numberFormat: roman
    - token: part
      lookup: {'1':'First', '2':'Second'}
  URL:
    - 'https://ballotpedia.org/Article_{Article}'
    - '--Part_{part}'
    - ',_Maine_Constitution'
    - '#Section_{Section}'

Maryland Code:
  regex:
    - &md_name M(aryland|d\.|D)
    - ' (Code( Ann(otated|\.))?,? )?(?P<Article>(Ac|Al|[BCEFHILNPRST]).{4,38}?) (Code( Ann(otated|\.))?,? )?'
    - &md_title_dash_section '((Sections?|(&sect;|&#167|§){1,2}) ?)?(?P<Title>\d+[A-Z]?)[-‑–](?P<Section>[\dA-Z\-–.]*[\dA-Z])'
    - *subsection
  idForms:
    - [*id_at, *mandatory_section_sign, *md_title_dash_section, *subsection]
    - [*optional_id_at, *mandatory_section_sign, *md_title_dash_section, *subsection]
    - *subsection_id
  shortForms: [['{Article} (Code( Ann(otated|\.))?)?', *md_title_dash_section, *subsection]]
  operations:
    - token: Section
      sub: ['–', '-']
    - token: Article
      output: articleCode
      lookup: {'Acric(ulture|\.)':'gag', 'Alco(holic|\.) ?Bev(erages|s?\.)':'gab', 'Bus(iness|\.) ?Occ(upations|\.) ?(and|&) ?Prof(essions|s?\.)':'gbo', 'Bus(iness|\.) ?Reg(ulation|\.)':'gbr', 'Com(mercial|\.) ?Law':'gcl', 'Corp(orations|s\.) ?(and|&) Ass(ociations|''ns)':'gca', 'Corr(ectional|\.) ?Serv(ices|s\.)':'gcs', 'C(ourts|ts\.) ?(and|&) ?Jud(icial|\.) ?Proc(eedings|\.)':'gcj', 'Crim(inal|\.) ?Law':'gcr', 'Crim(inal|\.) ?Proc(edure|\.)':'gcp', 'Econ(omic|\.) ?Dev(elopment|\.)':'gec', 'Educ(ation|\.)':'ged', 'Elec(tion|\.) ?Law':'gel', 'Envir(onment|\.)':'gen', 'Est(ates|\.) ?(and|&) ?Trusts':'get', 'Fam(ily|\.) ?Law':'gfl', 'Fin(ancial|\.) Inst(itutions|\.)':'gfi', 'Health ?[-–] ?Gen(eral|\.)':'ggp', 'Health Occ(upations|\.)':'gho', 'Hous(ing|\.) ?(and|&) ?C(ommunity|mty\.) ?Dev(elopment|''t|\.)':'ghs', 'Hum(an|\.) ?Serv(ices|s\.)':'ghu', 'Ins(urance|\.)':'gin', 'Lab(or|\.) ?(and|&) ?Empl(oyment|\.)':'gle', 'Land Use':'glu', 'Local Gov(ernment|''t)':'glg', 'Nat(ural|\.) ?Res(ources|\.)':'gnr', 'Pub(lic|\.) ?Saf(ety|\.)':'gps', 'Pub(lic|\.) ?Util(ity|\.)':'gpu', 'Real Prop(erty|\.)':'grp', 'State Fin(ance|\.) (and|&) Proc(urement|\.)':'gsf', 'State Gov(ernment|''t)':'gsg', 'State Pers(onnel|\.) (and|&) Pens(ions|\.)':'gsp', 'Tax ?[-–] ?Gen(eral|\.)':'gtg', 'Tax ?[-–] ?Prop(erty|\.)':'gtp', 'Transp(ortation|\.)':'gtr'}
  URL: https://mgaleg.maryland.gov/mgawebsite/Laws/StatuteText?article={articleCode}&section={Title}-{Section}

Maryland Constitution:
  regex: [*md_name, *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: *article_to_roman
  URL:
    - https://ballotpedia.org/Article_{Article},_Maryland_Constitution
    - '#Section_{Section}'

Massachusetts General Laws:
  regex:
    - ((Mass(achusetts|\.)|MA) ?(Gen(eral|\.)|Ann(otated|\.)) ?Laws( Ann(otated|\.))?|M\.?G\.?L\.?(A\.?)?|A\.?L\.?M\.?)
    - ',? [Cc](hapter|h?\.) ?(?P<Chapter>\d+[A-Z]?),? '
    - &mass_section ((&sect;|&#167|§){1,2}|Sect?(ions?|s?\.))? ?(?P<Section>\d+[A-Z]?\d*([/]\d+[A-Z]?)?)
    - *subsection
  idForms:
    - [*id_at, ' ', *mass_section, *subsection]
    - [*mandatory_section_sign, *mass_section]
    - *subsection_id
  operations:
    - token: Section
      sub: ['/', '~']
  URL: https://malegislature.gov/GeneralLaws/GoTo?ChapterGoTo={Chapter}&SectionGoTo={Section}

Massachusetts Constitution:
  regex:
    - '(Mass(achusetts|\.)|MA) Const(itution|\.),? '
    - &mass_pt_ch_sec_art '[Pp](art|t\.) ?(?P<part>II?|1|2|[Tt]he ([Ff]irst|[Ss]econd))(,? [Cc](hapter|h?\.) ?(?P<Chapter>\d+|[IVXivx]{1,7})(,? ((&sect;|&#167|§){1,2}|[Ss]ect?(ions?|s?\.))? ?(?P<Section>\d+|[IVXivx]{1,7}))?)?(,? [Aa]rt(icle|\.) ?(?P<Article>\d+|[IVXivx]{1,7}))?'
  defaults: {'Chapter':'I', 'Section':'I'}
  operations:
    - token: part
      output: _is_first
      optionalLookup: {'1|I|.*irst':''}
    - token: part
      output: _is_second
      optionalLookup: {'2|II|.*econd':''}
    - token: Chapter
      numberFormat: roman
    - token: Section
      numberFormat: roman
    - token: Article
      numberFormat: roman
  idForms:
    - [*optional_id_at, *mass_pt_ch_sec_art, *section]
  URL:
    - https://malegislature.gov/Laws/Constitution
    - '{_is_first}#article{Article}'
    - '{_is_second}#chapter{Chapter}Section{Section}'
    - '{_is_second}Article{Article}'

Michigan Compiled Laws:
  regex:
    - &mi_name (Mich(igan|\.)|MI)
    - ' Comp(iled|\.) Laws( (Serv(ice|\.)|Ann(otated|\.)))? '
    - *ch_dot_sec
    - *subsection
  idForms: *ch_dot_sec_id
  URL: https://legislature.mi.gov/doc.aspx?mcl-{Chapter}-{Section}

Michigan Constitution:
  regex: [*mi_name, *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: *article_to_roman
  URL:
    - https://ballotpedia.org/Article_{Article},_Michigan_Constitution
    - '#Section_{Section}'

Minnesota Statutes:
  regex:
    - &mn_name (Minn(esota|\.)|MN)
    - *rev_ann_code_stat
    - *ch_dot_sec
    - &minn_subsec (?P<subsection>\((?P<subdivision>\d\w*)\)(\(\w+\))*|(\(\w+\))+)
    - '?'
  idForms:
    - [*id_at, *ch_dot_sec, *minn_subsec, '?']
    - [*optional_id_at, *mandatory_section_sign, *ch_dot_sec, *minn_subsec, '?']
    - [*id_at, *minn_subsec]
  URL:
    - https://www.revisor.mn.gov/statutes/cite/{Chapter}.{Section}
    - '#stat.{Chapter}.{Section}.{subdivision}'

Minnesota Constitution:
  regex: [*mn_name, *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: *article_to_roman
  URL:
    - https://ballotpedia.org/Article_{Article},_Minnesota_Constitution
    - '#Section_{Section}'

Mississippi Code:
  regex:
    - &ms_name (Miss(issippi|\.)|MS)
    - *rev_ann_code_stat
    - *title_dash_chapter_dash_section
    - *subsection
    - *year
  defaults: {'Year':'2019'} # needs yearly updates
  idForms: *title_dash_chapter_dash_section_id
  URL: https://law.justia.com/codes/mississippi/{Year}/title-{Title}/chapter-{Chapter}/section-{Title}-{Chapter}-{Section}/index.html

Mississippi Constitution:
  regex: [*ms_name, *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: *article_to_roman
  URL:
    - https://ballotpedia.org/Article_{Article},_Mississippi_Constitution
    - '#Section_{Section}'

Missouri Revised Statutes:
  regex:
    - '((M(issouri|o\.|O)( Ann(otated|\.))? ?Rev(ised|\.) ?Stat(utes|s?\.)( Ann(otated|\.))?|R\.?S\.?M[Oo]\.?)) '
    - *ch_dot_sec
    - *subsection
  idForms: *ch_dot_sec_id
  URL: https://revisor.mo.gov/main/OneSection.aspx?section={Chapter}.{Section}

Missouri Constitution:
  regex: ['M(issouri|o\.|O)', *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: *article_to_roman
  URL:
    - https://ballotpedia.org/Article_{Article},_Missouri_Constitution
    - '#Section_{Section}'

Montana Code:
  regex:
    - &mt_name (Mont(ana|\.)|MT)
    - *rev_ann_code_stat
    - *title_dash_chapter_dash_section
    - *subsection
  idForms: *title_dash_chapter_dash_section_id
  URL: https://www.lawserver.com/law/state/montana/mt-code/montana_code_{Title}-{Chapter}-{Section}

Montana Constitution:
  regex: [*mt_name, *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: *article_to_roman
  URL:
    - https://ballotpedia.org/Article_{Article},_Montana_Constitution
    - '#Section_{Section}'

Revised Statutes of Nebraska:
  regex:
    - &ne_name (Neb(raska|\.)|NE)
    - *rev_ann_code_stat
    - *chapter_dash_section
    - *subsection
  idForms: *chapter_dash_section_id
  URL: https://www.nebraskalegislature.gov/laws/statutes.php?statute={Chapter}-{Section}

Nebraska Constitution:
  regex: [*ne_name, *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: *article_to_roman
  URL:
    - https://ballotpedia.org/Article_{Article},_Nebraska_Constitution
    - '#Section_{Section}'

New Hampshire Revised Statutes:
  regex:
    - &nh_name (New Hampshire|N\.? ?H\.?)
    - *rev_ann_code_stat
    - &nh_chapter_colon_section '((Sections?|(&sect;|&#167|§){1,2}) ?)?(?P<Chapter>\d+([-–][A-Za-z])?):(?P<Section>\d+([-‑–][A-Za-z])?)'
    - *subsection
  idForms:
    - [*optional_id_at, *mandatory_section_sign, *nh_chapter_colon_section, *subsection]
    - [*id_at, '(Sections?|(&sect;|&#167|§){1,2}) ?(?P<Section>\d+([-–][A-Za-z])?)', *subsection]
    - *subsection_id
  operations:
    - token: Chapter
      sub: ['[–‑]', '-']
    - token: Chapter
      case: lower
    - token: Section
      sub: ['–‑', '-']
    - token: Section
      case: lower
  URL: https://www.lawserver.com/law/state/new-hampshire/nh-statutes/new_hampshire_revised_statutes_{Chapter}_{Section}

New Hampshire Constitution:
  regex:
    - *nh_name
    - ' ?Const(itution|\.),? ?[Pp](art|t\.) ?(?P<part>II?|1|2|([Tt]he )([Ff]irst|[Ss]econd)),? '
    - &nh_const_art '[Aa]rt(icle|\.) ?(?P<Article>\d+(-\w)?)'
  operations:
    - token: part
      output: _is_part1
      optionalLookup: {'I|1|The First':''}
    - token: part
      output: _is_part2
      optionalLookup: {'II|2|The Second':''}
    - token: Article
      output: _part2_section
      optionalLookup: {'[1-8](-[ab])?':'Part_Second', '(9|2[0-4])(-[ab])?':'House_of_Representatives', '(2[5-9]|3\d|40)(-[ab])?':'Senate', '(4[1-9]|5\d)(-[ab])?':'Executive_Power_-_Governor', '6[0-6]':'Council', '(6[7-9]|70)':'Secretary', '7[12]':'County_Treasurer', '(7[3-9](-[ab])?|8[01])':'Judiciary_Power', '82':'Clerks_of_Courts', '83':'Encouragement_of_Literature,_Trade,_Etc.', '(8[4-9]|9\d|10[01])':'Oaths_and_Subscriptions_Exclusion_from_Offices,_Etc.'}
  idForms: [[*optional_id_at, *nh_const_art]]
  URL:
    - 'https://ballotpedia.org/'
    - '{_is_part1}Part_First'
    - '{_is_part2}{_part2_section}'
    - ',_New_Hampshire_Constitution'
    - '#Article_{Article}'

New Jersey Statutes:
  regex:
    - ((N\.? ?J\.?|New Jersey)
    - *rev_ann_code_stat
    - '|N\.?J\.?S\.?A )'
    - &title_colon_chapter_dash_sec '((Sections?|(&sect;|&#167|§){1,2}) ?)?(?P<Title>\d+[A-Za-z]?):(?P<Chapter>\d+[A-Za-z]?)[-‑–](?P<Section>\d+(\.\d+)?[A-Za-z]?)'
    - *subsection
  idForms: &title_colon_chapter_dash_sec_id
    - [*optional_id_at, *title_colon_chapter_dash_sec, *subsection]
    - *subsection_id
  URL: https://njlaw.rutgers.edu/collections/njstats/showsect.php?title={Title}&chapter={Chapter}&section={Section}&actn=getsect

New Jersey Constitution:
  regex:
    - '(N\.? ?J\.?|New Jersey) ?Const(itution|\.),? ?'
    - &nj_art_sec_or_para '[Aa]rt(icle|\.) ?(?P<Article>[\dIVXivx]{1,8}),? ((&sect;|&#167|§|[Ss]ec(tion|t?\.)) ?(?P<Section>[\dIVXivx]{1,8})|[Pp](ar(agraph|a?\.)) ?(?P<paragraph>\d+))'
  idForms: [[*optional_id_at, *nj_art_sec_or_para]]
  operations:
    - token: Article
      numberFormat: roman
    - token: Section
      numberFormat: roman
  URL:
    - https://ballotpedia.org/Article_{Article},_New_Jersey_Constitution
    - '#Section_{Section}'
    - '#Paragraph_{paragraph}'

Nevada Revised Statutes:
  regex:
    - '('
    - &nv_name (Nev(ada|\.)|NV)
    - *rev_ann_code_stat
    - '|NRS )'
    - *ch_dot_sec
    - *subsection
  idForms: *ch_dot_sec_id
  operations:
    - token: Chapter
      output: _lpad_chapter
      lpad: 3
  URL: https://www.leg.state.nv.us/NRS/NRS-{_lpad_chapter}.html#NRS{Chapter}Sec{Section}

Nevada Constitution:
  regex: [*nv_name, *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: *roman_art_sec_to_arabic
  URL:
    - https://ballotpedia.org/Article_{Article},_Nevada_Constitution
    - '#Section_{Section}'
# should add support for election ordinance

New Mexico Statutes Annotated 1978:
  regex:
    - '('
    - &nm_name (New Mexico|N\.? ?M\.?)
    - *rev_ann_code_stat
    - '|NMSA )'
    - &chapter_dash_article_dash_section '((Sections?|(&sect;|&#167|§){1,2}) ?)?(?P<Chapter>\d+[A-Za-z]?)-(?P<Article>\d+[A-Za-z]?)-(?P<Section>\d+(\.\d+)?[A-Z]?)'
    - *subsection
  idForms: &chapter_dash_article_dash_section_id
    - [*optional_id_at, *chapter_dash_article_dash_section, *subsection]
    - *subsection_id
  operations:
    - token: Chapter
      output: _chapter_code
      lookup: {'1':'4351', '2':'4359', '3':'4362', '4':'4372', '5':'4376', '6':'4381', '7':'4340', '8':'4354', '9':'4357', '10':'4364', '11':'4370', '12':'4374', '13':'4378', '14':'4384', '15':'4387', '16':'4390', '17':'4341', '18':'4346', '19':'4350', '20':'4356', '21':'4361', '22':'4368', '22A':'4377', '23':'4380', '24':'4384', '25':'4391', '26':'4355', '27':'4358', '28':'4365', '29':'4367', '30':'4371', '31':'4379', '32':'4385', '32A':'4389', '33':'4396', '34':'4399', '35':'4360', '36':'4363', '37':'4366', '38':'4369', '39':'4373', '40':'4375', '41':'4382', '42':'4386', '42A':'4392', '43':'4395', '44':'4388', '45':'4393', '46':'4401', '46A':'4405', '46B':'4406', '47':'4408', '48':'4413', '49':'4416', '50':'4420', '51':'4425', '52':'4394', '53':'4400', '54':'4404', '55':'4411', '56':'4418', '57':'4423', '58':'4426', '59':'4435', '59A':'4438', '60':'4443', '61':'4397', '62':'4407', '63':'4412', '64':'4414', '65':'4417', '66':'4422', '67':'4429', '68':'4434', '69':'4437', '70':'4440', '71':'4398', '72':'4402', '73':'4409', '74':'4415', '75':'4421', '76':'4424', '77':'4427'}
  URL: https://nmonesource.com/nmos/nmsa/en/item/{_chapter_code}/index.do#!b/{Chapter}-{Article}-{Section}

New Mexico Constitution:
  regex: [*nm_name, *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: *article_to_roman
  URL:
    - https://ballotpedia.org/Article_{Article},_New_Mexico_Constitution
    - '#Section_{Section}'

Consolidated Laws of New York:
  regex:
    - &ny_name '(New York|N\.? ?Y\.?)'
    - ' ?(?P<_chapter>.{2,40}?)( Law)?'
    - ' ((&sect;|&#167|§){1,2}|[Ss]ect?(ions?|s?\.))? ?(?P<Section>(\d[\w.-]*\w|\d))'
    - *subsection
  idForms: *id_sec_sub
  shortForms:
    - ['{Chapter}', *section, *subsection]
    - ['{_chapter}( Law)?', *section, *subsection]
  operations:
    - token: _chapter
      output: Chapter
      lookup: {'Abandoned Property|ABP':'ABP', 'Agric(ulture|\.) (and|&) M(arkets|kts)|AGM|A&M', 'Alc(oholic|o?\.) Bev(erage|\.) Cont(rol|\.)|ABC':'ABC', 'Alt(ernative\.) C(ounty|ty\.) Gov(ernment|.t)|ACG':'ACG', 'Arts (and|&) Cult(ural|\.) Aff(airs|\.)|ACA':'ACA', 'Banking|BNK':'BNK', 'Ben(evolent|\.) Ord(ers|\.)|BVO':'BVO', 'Bus(iness|\.) Corp(orations?|s?)|BSC|BCL':'BSC', 'Canal|CAL':'CAL', 'Civil Practice Law (and|&) Rules|CVP|CPLR|C\. ?P\. ?L\. ?R':'CVP', 'Civ(il|\.) Serv(ice|\.)|CIV':'CIV', 'Coop(erative|\.) Corp(orations|s?)|CCO':'CCO', 'Correct(ion|\.)|COR':'COR', 'County|CNT':'CNT', 'Crim(inal|\.) Pro(cedure|c?)|CPL':'CPL', 'Debt(or|\.) (and|&) Cred(itor|\.)|DCD':'DCD', 'Dom(estic|\.) Rel(ations|\.)|DOM':'DOM', 'Econ(omic|\.) Dev(elopment|\.)|COM':'COM', 'Educ(ation|\.)|EDN':'EDN', 'Elder|ELD':'ELD', 'Elec(tion|\.)|ELN':'ELN', 'Em(inent|\.) Dom(ain|\.) Proc(edure|\.)|EDP':'EDP', 'Emp(loyer(s''?)?|l''rs) Liab(ility|\.)|EML':'EML', 'Energy|ENG':'ENG', 'Env(ironmental|(tl)?\.) Conserv(ation|\.)|ENV':'ENV', 'Est(ates,|\.) Powers (and|&) Trusts|EPT':'EPT', 'Exec(utive|\.)|EXC':'EXC', 'Fin(ancial|\.) Serv(ices|s?)|FIS':'FIS', 'Gen(eral|\.) Associations|GAS':'GAS', 'Gen(eral|\.) Bus(iness|\.)|GBS':'GBS', 'Gen(eral|\.) City|GCT':'GCT', 'Gen(eral|\.) Constr(uction|\.)|GCN':'GCN', 'Gen(eral|\.) Mun(icipal|\.)|GMU':'GMU', 'Gen(eral|\.) Oblig(ations|\.)|GOB':'GOB', 'High(way|\.)|HAY':'HAY', 'Indian|IND':'IND', 'Jud(iciary|\.)|JUD':'JUD', 'Legis(lative|\.)|LEG':'LEG', 'Lien|LIE':'LIE', 'L(imited|td\.) Liab(ility|\.) Co(mpany|\.)|LLC':'LLC', 'Local Fin(ance|\.)|LFN':'LFN', 'Mental Hyg(iene|\.)|MHY':'MHY', 'Mil(itary|\.)|MIL':'MIL', 'Mult(iple|\.) Dwell(ing|\.)|MDW':'MDW', 'Mult(iple|\.) Resid(ence|\.)|MRE':'MRE', 'Mun(icipal|\.) Home Rule|MHR':'MHR', 'Mun(icipal|i?\.) Housing Authorities|MHA':'MHA', 'Nav(igation|\.)|NAV':'NAV', '(State )?Print(ing|\.)? (and|&) Pub(lic|\.) Doc(uments|s?)|PPD':'PPD', 'Parks,? Rec(reation|\.) (and|&) Hist(oric|\.) Preserv(ation|\.)|PAR':'PAR', "P(artnership|'ship)|PTR":'PTR', 'Penal|PEN':'PEN', 'Pers(onal|\.) Prop(erty|\.)|PEP':'PEP', 'Priv(ate|\.) Hous(ing|\.) Fin(ance|\.)|PVH':'PVH', 'Pub(lic|\.) Auth(orities|\.)|PBA':'PBA', 'Pub(lic|\.) Health|PBH':'PBH', 'Pub(lic|\.) Housing|PBG':'PBG', 'Pub(lic|\.) Off(icers|\.)|PBO':'PBO', 'Rac(ing,|\.) Pari-Mut(uel|\.) Wag(ering|\.) (and|&) Breed(ing|\.)|PML':'PML', 'Railroad|R\.R\.|RRD':'RRD', 'Rapid Trans(it|\.)|RAT':'RAT', 'Real Prop(erty|\.) Act(ions|s\.)( (and|&) Proceedings)?|RPA':'RPA', 'Real Prop(erty|\.) Tax|RPT':'RPT', 'Real Prop(erty|\.)|RPP':'RPP', 'Relig(ious|\.) Corp(orations|s?\.)|RCO':'RCO', 'Retire(ment|\.) (and|&) Soc(ial|\.) Sec(urity|\.)|RSS':'RSS', 'Rural Elec(tric|\.) Coop(eratives?|s?\.)|REL':'REL', 'Second Class Cities|SCC':'SCC', 'Soil (and|&) Water Conserv(ation|\.) Dist(ricts|s?\.)|SWC':'SWC', 'State Administrative Procedure Act|A\.P\.A\.|SAP':'SAP', 'State Fin(ance|\.)|STF':'STF', 'State|STL':'STL', 'Statute of Local Gov(ernments|s?\.)|SLG':'SLG', 'Town|TWN':'TWN', 'Trans(portation|p?\.) Corp(orations|s?\.)|TCP':'TCP', 'Trans(portation|p?\.)|TRA':'TRA', 'Uniform Commercial Code|U\.?C\.?C\.?':'UCC', 'Vill(age|\.)|VIL':'VIL', 'Vol(unteer|\.) Ambul(ance|\.) Workers''? Benefit|VAW':'VAW', 'Vol(unteer|\.) Fire(fighters''?|\.) Ben(efit|\.)|VOL':'VOL'}
    - token: Section
      case: upper
  URL: https://www.nysenate.gov/legislation/laws/{Chapter}/{Section}

New York Constitution:
  regex: [*ny_name, *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: *article_to_roman
  URL:
    - https://ballotpedia.org/Article_{Article},_New_York_Constitution
    - '#Section_{Section}'

North Carolina General Statutes:
  regex:
    - '((North Carolina|N\.? ?C\.?) ?Gen(eral|\.) ?Stat(utes|s?\.?)|N\.? ?C\.? ?G\.? ?S\.?) '
    - *chapter_dash_section
    - *subsection
  idForms: *chapter_dash_section_id
  URL: https://www.ncleg.gov/EnactedLegislation/Statutes/HTML/BySection/Chapter_{Chapter}/GS_{Chapter}-{Section}.html

North Carolina Constitution:
  regex: ['(North Carolina|N\.? ?C\.?)', *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: *article_to_roman
  URL:
    - https://ballotpedia.org/Article_{Article},_North_Carolina_Constitution
    - '#Section_{Section}'

North Dakota Century Code:
  regex:
    - &nd_name (North Dakota|N\.? ?D\.?)
    - ' ?Cent(ury|\.) ?Code( Ann(otated|\.))? '
    - *title_dash_chapter_dash_section
    - *subsection
  idForms: *title_dash_chapter_dash_section_id
  operations:
    - token: Title
      sub: ['\.', '-']
    - token: Chapter
      sub: ['\.', '-']
  operations:
    - token: Chapter
      output: _chapter
      lpad: 2
    - token: Section
      output: _section
      lpad: 2
  URL: https://www.lawserver.com/law/state/north-dakota/nd-code/north_dakota_code_{Title}_{_chapter}_{_section}

North Dakota Constitution:
  regex: [*nd_name, *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: *article_to_roman
  URL:
    - https://ballotpedia.org/Article_{Article},_North_Dakota_Constitution
    - '#Section_{Section}'

Northern Mariana Islands Commonwealth Code:
  regex:
    - '(?P<Title>\d+) '
    - &nmi_name N(orthern|\.) ?Mar(iana|\.) ?I(slands|\.)
    - *rev_ann_code_stat
    - *section
    - *subsection
  idForms: *id_sec_sub
  URL: https://cnmilaw.org/pdf/cmc_section/T{Title}/{Section}.pdf

Northern Mariana Islands Constitution:
  regex: [*nmi_name, *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: *article_to_roman
  URL:
    - https://ballotpedia.org/Article_{Article},_Northern_Mariana_Islands_Constitution
    - '#Section_{Section}'

Ohio Revised Code:
  regex:
    - &oh_name O(hio|H)
    - *rev_ann_code_stat
    - '((Sections?|(&sect;|&#167|§){1,2}) ?)?(?P<Chapter>\d+)(\.(?P<Section>\d+)'
    - *subsection
    - )?
  idForms: *ch_dot_sec_id
  URL:
    - https://codes.ohio.gov/orc/{Chapter}
    - .{Section}v1

Ohio Constitution:
  regex: [*oh_name, *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: *article_to_roman
  URL:
    - https://ballotpedia.org/Article_{Article},_Ohio_Constitution
    - '#Section_{Section}'

Oklahoma Statutes:
  regex:
    - &ok_name (Okla(homa|\.)|OK)
    - *rev_ann_code_stat
    - *standalone_title
    - *section
    - *subsection
    - *year
  defaults: {'Year':'2019'} # needs yearly updates
  operations:
    - token: Title
      case: lower
  idForms: *id_sec_sub
  URL: https://law.justia.com/codes/oklahoma/{Year}/title-{Title}/section-{Title}-{Section}/index.html

Oklahoma Constitution:
  regex: [*ok_name, *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: *article_to_roman
  URL:
    - https://ballotpedia.org/Article_{Article},_Oklahoma_Constitution
    - '#Section_{Section}'

Oregon Revised Statutes:
  regex:
    - &or_name (Or(egon|e?\.)|OR)
    - *rev_ann_code_stat
    - *ch_dot_sec
    - *subsection
  idForms: *ch_dot_sec_id
  URL: https://www.oregonlaws.org/ors/{Chapter}.{Section}

Oregon Constitution:
  regex:
    - *or_name
    - ' ?Const(itution|\.) ?'
    - &or_art '[Aa]rt(icle|\.) ?(?P<Article>[IVXivx]{1,5}(-\w(\(\d\))?)?)'
    - '(,? ?'
    - &or_sec_cl '((&sect;|&#167|§){1,2}|[Ss]ect?(ions?|s?\.)) ?(?P<Section>(\d[\w.]*\w|\d))(,? ([Cc]l(ause|s?\.) ?(?P<clause>\d+)))?'
    - ')?'
  idForms:
    - [*optional_id_at, *or_art, '(,? ?', *or_sec_cl, ')?']
    - [*optional_id_at, *or_sec_cl]
  operations:
    - token: Article
      case: upper
  URL:
    - https://ballotpedia.org/Article_{Article},_Oregon_Constitution
    - '#Section_{Section}'

Pennsylvania Code:
  regex: ['(?P<Title>\d+) ', &pa_name '(Pennsylvania|Pa\.|PA)', *rev_ann_code_stat, *ch_dot_sec, *subsection]
  idForms: *id_sec_sub
  operations:
    - token: Title
      output: _title
      lpad: 3
  URL: https://www.pacodeandbulletin.gov/Display/pacode?file=/secure/pacode/data/{_title}/chapter{Chapter}/s{Chapter}.{Section}.html

Pennsylvania Constitution:
  regex: [*pa_name, *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: *article_to_roman
  URL:
    - https://ballotpedia.org/Article_{Article},_Pennsylvania_Constitution
    - '#Section_{Section}'

Laws of Puerto Rico:
  regex:
    - &pr_name (Puerto Rico|P\.? ?R\.?)
    - ' ?L(aws|eyes)( An(notated|notado|n?\.))?'
    - *standalone_title
    - *section
    - *subsection
  idForms: *id_sec_sub
  # no URL because they use LexisNexis

Puerto Rico Constitution:
  regex: [*pr_name, *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: *article_to_roman
  URL:
    - https://ballotpedia.org/Article_{Article},_Puerto_Rico_Constitution
    - '#Section_{Section}'

General Laws of Rhode Island:
  regex:
    - &ri_name (Rhode Island|R\.? ?I\.?)
    - ' ?Gen(eral|\.) ?Laws '
    - *title_dash_chapter_dash_section
    - *subsection
  idForms: *title_dash_chapter_dash_section_id
  URL: http://webserver.rilin.state.ri.us/Statutes/TITLE{Title}/{Title}-{Chapter}/{Title}-{Chapter}-{Section}.HTM

Rhode Island Constitution:
  regex: [*ri_name, *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: *article_to_roman
  URL:
    - https://ballotpedia.org/Article_{Article},_Rhode_Island_Constitution
    - '#Section_{Section}'

South Carolina Code of Laws:
  regex:
    - &sc_name (South Carolina|S\.? ?C\.?)
    - *rev_ann_code_stat
    - *title_dash_chapter_dash_section
    - *subsection
  idForms: *title_dash_chapter_dash_section_id
  operations:
    - token: Chapter
      output: _lpad_chapter
      lpad: 3
  URL: https://www.scstatehouse.gov/code/t{Title}c{_lpad_chapter}.php#{Title}-{Chapter}-{Section}

South Carolina Constitution:
  regex: [*sc_name, *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: *article_to_roman
  URL:
    - https://ballotpedia.org/Article_{Article},_South_Carolina_Constitution
    - '#Section_{Section}'

South Dakota Codified Laws:
  regex:
    - '(South Dakota|S\.? ?D\.?) ?(Codified|Comp(iled|\.)) Laws( Ann(otated|\.))? '
    - *title_dash_chapter_dash_section
    - *subsection
  idForms: *title_dash_chapter_dash_section_id
  URL: https://sdlegislature.gov/Statutes/Codified_Laws/DisplayStatute.aspx?Type=Statute&Statute={Title}-{Chapter}-{Section}

South Dakota Constitution:
  regex: ['(South Dakota|S\.? ?D\.?)', *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: *article_to_roman
  URL:
    - https://ballotpedia.org/Article_{Article},_South_Dakota_Constitution
    - '#Section_{Section}'

Tennessee Code:
  regex:
    - &tn_name (Tenn(essee|\.)|TN)
    - *rev_ann_code_stat
    - *title_dash_chapter_dash_section
    - *subsection
  idForms: *title_dash_chapter_dash_section_id
  URL: https://www.lawserver.com/law/state/tennessee/tn-code/tennessee_code_{Title}-{Chapter}-{Section}

Tennessee Constitution:
  regex: [*tn_name, *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: *article_to_roman
  URL:
    - https://ballotpedia.org/Article_{Article},_Tennessee_Constitution
    - '#Section_{Section}'

Texas Codes:
  regex:
    - &tx_name '(Tex(as|\.)|TX)'
    - ' (?P<_code>\w.{2,40}?)( Code( Ann(otated|\.))?)? '
    - *ch_dot_sec
    - *subsection
  idForms: 
    - [*id_at, *ch_dot_sec, *subsection]
    - [*optional_id_at, *mandatory_section_sign, *ch_dot_sec, *subsection]
  shortForms:
    - ['{Code}', *ch_dot_sec, *subsection]
    - ['{_code}( Code)?', *ch_dot_sec, *subsection]
  operations:
    - token: _code
      output: Code
      lookup: {'Agric(ulture|\.)|AGC?':'AG', 'Alc(oholic|o?\.) Bev(erage|\.)|ABC?':'AL', 'Aux(iliary|\.) Water Laws|A?WL':'WL', 'Bus(iness|\.) (and|&) Com(merce|m?\.)|B&C|BCC?':'BC', 'Bus(iness|\.) Org(anizations|s\.)|BOC?':'BO', 'Civ(il|\.) Prac(tice|\.) (and|&) Rem(edies|s?\.)|CPR?C?':'CP', 'Code( of)? Crim(inal|\.) ?Pro(cedure|c?\.)|CCrP|CRC?':'CR', 'Educ(ation|\.)|EDC?':'ED', 'Elec(tion|\.)|ELC?':'EL', 'Est(ates|\.)|ESC?':'ES', 'Fam(ily|\.)|FAC?|FAM':'FA', 'Fin(ance|\.)|FIC?|FIN':'FI', 'Gov(ernment|(''?t)?\.?)?|GO?VC?':'GV', 'Health (and|&) Saf(ety|\.)|H&?SC?':'HS', 'Hum(an|\.) Res(ources|\.)|HRC?':'HR', 'Ins(urance|\.)|INC?':'IN', 'Labor|LA':'LA', 'Local Gov(ernment|''t)|LGC?':'LG', 'Nat(ural|\.) Res(ources|\.)|NRC?':'NR', 'Occ(upations|\.)|OC':'OC', 'Parks (and|&) Wild(life|\.)|PWC?':'PW', 'Penal|PEN?|PC':'PE', 'Prop(erty|\.)|PR|PC':'PR', 'Special Dist(rict|\.) Local Laws|Spec\. Dists\.|SDC?':'SD', 'Tax|TX?C':'TX', 'Trans(portation|p?\.)|TNC?':'TN', 'Util(ities|\.)|UTC?':'UT', 'Water|WAC?':'WA', 'Vernon''s Civ(il|\.) Stat(utes|s?\.)':'VC'}
  URL: https://statutes.capitol.texas.gov/Docs/{Code}/htm/{Code}.{Chapter}.htm#{Chapter}.{Section}

Texas Constitution:
  regex: [*tx_name, *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: *roman_art_sec_to_arabic
  URL: https://statutes.capitol.texas.gov/Docs/CN/htm/CN.{Article}/CN.{Article}.{Section}.htm

Utah Code:
  regex: 
    - &ut_name (Utah|UT)
    - *rev_ann_code_stat
    - *title_dash_chapter_dash_section
    - *subsection
  idForms: *title_dash_chapter_dash_section_id
  operations:
    - token: Title
      case: upper
  URL:
    - https://le.utah.gov/xcode/Title{Title}/Chapter{Chapter}/{Title}-{Chapter}-S{Section}.html
    - '#{Title}-{Chapter}-{Section}{subsection}'

Utah Constitution:
  regex: [*ut_name, *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: *article_to_roman
  URL:
    - https://ballotpedia.org/Article_{Article},_Utah_Constitution
    - '#Section_{Section}'

Vermont Statutes:
  regex:
    - &vt_name V(ermont|t\.|T)
    - *rev_ann_code_stat
    - *standalone_title
    - *section
    - *subsection
  idForms: *id_sec_sub
  URL: https://www.lawserver.com/law/state/vermont/vt-statutes/vermont_statutes_title_{Title}_{Section}

Vermont Constitution:
  regex:
    - *vt_name
    - ' ?Const(itution|\.),? ?'
    - &vt_chapter '[Cc](hapter|h?\.) ?(?P<Chapter>[Ii]{1,2})'
    - '(,? '
    - &vt_article '([Aa]rt(icle|\.)|&sect;|&#167|§) ?(?P<Article>\d+)(st|nd|th)?'
    - ')?'
  idForms:
    - [*optional_id_at, *vt_chapter, '(,? ', *vt_article, ')?']
    - [*optional_id_at, *vt_article]
  defaults: {'_chapter2section':'Chapter_II'}
  operations:
    - token: Chapter
      case: upper
    - token: Chapter
      output: _is_chapterI
      optionalLookup: {'I':''}
    - token: Chapter
      output: _is_chapterII
      optionalLookup: {'II':''}
    - token: Article
      output: _article_suffix
      lookup: {'(\d*[02-9])?1':'st', '(\d*[02-9])?2':'nd', '(\d*[02-9])?3':'rd', '(\d*[02-9])?[4-9]|\d*1\d':'th'}
    - token: Article
      output: _chapter2_section
      optionalLookup: {'[1-5]':'Delegation_and_Distribution_of_Powers', '[6-9]|1\d':'Legislative_Department', '2[0-7]':'Executive_Department', '2[89]|3\d|4[01]':'Judiciary_Department', '42':'Qualifications_of_Freemen_and_Freewomen', '4[3-9]|5[0-5]':'Elections;_Officers;_Terms_of_Office', '56':'Oath_of_Allegiance;_Oath_of_Office', '5[78]':'Impeachment', '59':'Militia', '6\d|7[01]':'General_Provisions', '7[23]':'Amendment_of_the_Constitution', '7[4-6]':'Temporary_Provisions'}
  URL:
    - https://ballotpedia.org/
    - '{_is_chapterI}Chapter_I'
    - '{_is_chapterII}{_chapter2_section}'
    - ',_Vermont_Constitution'
    - '{_is_chapterI}#Article_{Article}{_article_suffix}'
    - '{_is_chapterII}#Section_{Article}'

Virginia Code:
  regex:
    - &va_name (?<!W\. )(?<!West )(?<!W\.)V(irginia|a\.|A)
    - *rev_ann_code_stat
    - *title_dash_section
    - *subsection
  idForms: *title_dash_section_id
  URL: https://law.lis.virginia.gov/vacode/title{Title}/section{Title}-{Section}

Virginia Constitution:
  regex: [*va_name, *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: *article_to_roman
  URL:
    - https://ballotpedia.org/Article_{Article},_Virginia_Constitution
    - '#Section_{Section}'
# should add support for schedule

Virgin Islands Code:
  regex:
    - (Virgin Islands|V\.? ?I\.?)
    - *rev_ann_code_stat
    - *standalone_title
    - *chapter_dash_section
    - *subsection
    - *year
  idForms: *chapter_dash_section_id
  defaults: {'Year':'2019'} # needs yearly updates
  URL: https://law.justia.com/codes/virgin-islands/{Year}/title-{Title}/chapter-{Chapter}/{Section}/

Revised Code of Washington:
  regex:
    - '('
    - &wa_name (Wash(ington|\.)|WA)
    - *rev_ann_code_stat
    - '|R\.?C\.?W\.? )'
    - *title_dot_chapter_dot_section
    - *subsection
  idForms: *title_dot_chapter_dot_section_id
  URL: https://app.leg.wa.gov/RCW/default.aspx?cite={Title}.{Chapter}.{Section}

Washington Constitution:
  regex: [*wa_name, *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: *article_to_roman
  URL:
    - https://ballotpedia.org/Article_{Article},_Washington_State_Constitution
    - '#Section_{Section}'

West Virginia Code:
  regex:
    - &wv_name (West Virginia|W\. ?Va?\.|WV)
    - *rev_ann_code_stat
    - *chapter_dash_article_dash_section
    - *subsection
  idForms: *chapter_dash_article_dash_section_id
  URL: http://www.wvlegislature.gov/wvcode/ChapterEntire.cfm?chap={Chapter}&art={Article}&section={Section}

West Virginia Constitution:
  regex: [*wv_name, *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: *article_to_roman
  URL:
    - https://ballotpedia.org/Article_{Article},_West_Virginia_Constitution
    - '#Section_{Section}'

Wisconsin Statutes:
  regex:
    - &wi_name (Wis(consin|\.)|WI)
    - *rev_ann_code_stat
    - *ch_dot_sec
    - *subsection
  idForms: *ch_dot_sec_id
  URL:
    - https://docs.legis.wisconsin.gov/document/statutes/{Chapter}.{Section}
    - '{subsection}'

Wisconsin Constitution:
  regex: [*wi_name, *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: *article_to_roman
  URL:
    - https://ballotpedia.org/Article_{Article},_Wisconsin_Constitution
    - '#Section_{Section}'

Wyoming Statutes:
  regex:
    - &wy_name (Wyo(ming|\.)|WY)
    - *rev_ann_code_stat
    - *title_dash_chapter_dash_section
    - *subsection
  idForms: *title_dash_chapter_dash_section_id
  operations:
    - token: Title
      output: _lpad_title
      lpad: 2
  URL: https://wyoleg.gov/statutes/compress/title{_lpad_title}.pdf#search={Title}-{Chapter}-{Section}.

Wyoming Constitution:
  regex: [*wy_name, *const_art_sec_cl]
  idForms: *const_art_sec_cl_ids
  operations: *roman_art_sec_to_arabic
  URL:
    - https://ballotpedia.org/Article_{Article},_Wyoming_Constitution
    - '#Section_{Section}'

####################################################
# COURT CASES
####################################################

U.S. Caselaw (CAP):
  regex:
    - &caselaw_volume '(?P<Volume>\d+) '
    - (?P<Reporter>Abb\. Ct\. App\.|Abb\.N\. Cas\.|Abb\. Pr\.|Abb\. Pr\. \(n\.s\.\)|Adams Co\. L\.J\.|Add\.|Franklin Co\. Legal J\.|Aik\.|Ala\. App\.|Ala\.|Alaska Fed\.|Alaska|Am\. Samoa( [23]d)?|Ohio App\. Unrep\.|Ant\. N\.P\. Cas\.|A\.D\. ?2d|A\.D\.|A\.D\. ?3d|Ariz\. App\.|Ariz\.|Ark\. App\.|Ark\.|Armstrong\. Election Cases|A\.|Balt\. C\. Rep\.|Barb\. Ch\.|Barb\.|B\. Co\. Leg\. J\.|Berk's Co\. L\.J\.\.|Blackf\.|Blair Co\. L\.R\.|Blair Co\. L\.R\. 2d|Bosworth Super\. Ct\. Rep\.|Bradford Co\. L\.J\.|Brad\.|Brayt\.|Bucks Co\. L\.R\.|Bur\.|Butler Co\. Legal J\.|E\.D\. Pa\.|Cai\. Cas\.|Cai\.|Cal\.( ?App\.)?( ?([23]d|[45]th))?|Cal\. ?Dist\. Ct\.|Cal\. ?Super\. ?Ct\.|Cal\. ?Unrep\.|Cambria Co\. L\.J\.|Cambria Co\. Rep\.|Carbon Co\. L\.J\.|N\.J\. \(Manumission\)|Tapp\. Rep\.|D\. Pa\.|Ohio|Monaghan|Sadler|C\.C\.L\.J\.|C\.C\.L\.J\. 2d|Chand\.|Charlton Rep\.|Ches\. Co\. Rep\.|D\. Chip\.|N\. Chip\.|Mun\.  L\. Rep\.|Hosea's Rep\.|N\.Y\. City Ct\. Rep\.|Cl\. Ch\.|Cole\. & Cai\. Cas\.|Cole\. Cas\.|Colo\. App\.|Colo\. L\. Rep\.|Colo\. N\. P\.|Colo\.|Willson|White & W\.|King's Conflicting Cases|Conn\. App\.|Conn\. Cir\. Ct\.|Kirby|Root|Conn\.|Conn\. Supp\.|Connoly Sur\. Rep\.|Ct\. Cl\.|C\.C\.P\.A\.|Ct\. Cust\.|Cow\.|Craw\. Co\. Leg\. J\.|Cumberland L\.J\.|Cust\. B\. & Dec\.|Dakota|Dallam|Dall\.|Daly \(N\.Y\.\)|Dau\. Co\. Rep\.|Day|T\.C\.A\.|P\.R\. Dec\.|Teiss\.|Va\. Ch\. Dec\.|Pears\.|Smith|Ga\. Super\. Ct\.|Georgia Decisions|C\.M\.A\.|D\.C\.( \((Cranch|MacArth\.( & M\.)?|Mackey|patent|Tuck\. & Cl\.)\))?|Del\. Cas\.|Del\. Ch\.|Del\. Co\. Reps\.|Del\.( \((Boyce|Harr\.|Houst\.|Marv\.|Penne\.)\))?|Dem\. Sur\.|Denio|Docket|Dudley Rep\.|Duer Super\. Ct\. Rep\.|Edm\. Sel\. Cas\.|E\.D\. Smith|Edw\. Ch\.|Erie\. Co\. L\.J\.|P\.R\. Sent\.|Fay\. L\.J\.|F\.( ?Supp\.)?( ?[23]d)?|F\. Cas\.|Fed\. Cl\.|F\.R\.D\.|Fla\.|Fla\. Supp\.( 2d)?|Ga\. App\.|Ga\. L\. Rep\.|Ga\.|Gault|Gibb\. Surr\.|Guam|Hall Super\. Ct\. Rep\.|H\. & G\.|Haw\. App\.|Haw\.|Haz\. Pa\. Reg\.|Hill & Den\.|Hill|Hilt\.|Hoff\. Ch\.|Hopk\. Ch\.|How\. App\. Cas\.|How\. Pr\.( \(n\.s\.\))?|Idaho|Ill\. App\.( [23]d)?|Ill\. Cir\. Ct\. Rep\.|Ill\. Ct\. Cl\.|Ill\.( \((Scam|Breese|Gilm\.)\))?|Ill\. 2d|Ind\. App\.|Ind\. L\. Rep\.|Ind\.|Indian Terr\.|Iowa|Jeff\.|Johns\.( Cas\.| Ch\.)?|Jones and Spencer's Super\. Ct\. Rep\.|Edsall|Pa\. \(Admiralty\)|Kan\. App\. 2d|Kan\.|Keyes|Ky\. Op\.|Ky\.( \((A\.K\. Marsh\.|(T\.)?B\. Mon\.|Bibb|Bush|Dana|Duv\.|Hard\.|Hughes|J\.J\. Marsh\.|Met\.|Litt\.( Sel\. Cas\.)?|Sneed)\))?|Lack\. Bar  R\.|Lack\. Jur\.|Lack\. L\. N\.|Lack\. L\.R\.|Lanc\. Bar|Lanc\. L\. Rev\.|Lans\. Ch\.|Lans\.|Law\. L\.J\.|Law Times( \(N\.S\.\))?|Lebanon Co\. L\.J\.|Foster|(Pa\. )?Leg\. Gaz\.|Gunby|Leg\. Rec\. Rep\.|Lehigh Co\. L\.J\.|Lehigh Val\. L\. Rep\.|Liquor Tax Rep\.|Lock\. Rev\. Cas\.|La\.( A(nn|pp)\.)?|Luz\. L\.[JO]\.|Luz\. Leg\. Reg\.|Lycoming R\.|Magis\. & Const\.|Me\.|McGrath|Mart\. \([no]\.s\.\)|Md\. App\.|Md\.|H\. & McH\.|Mass\.( \((Allen|Cush|Gray|Met\.|Pick\.|Tyng|Will\.)\))?|Mass\. App\. Ct\.|Mass\. App\. Dec\.|Davis L\. Ct\. Cas\.|Mass\. Supp\.|Mercer|Mich\. App\. |Howell N\.P\.|Mich\.|M\.C\.L\.J\.|Mills Surr\.|Minn\.|Minor|Va\.|Miss\. Ct\. Rec\.|Miss\. Dec\.|Miss\.(\((Howard|S\. & M\.( Ch\.)?|Walker)\))?|Mor\. St\. Cas\.|Mo\. App\.|Mo\.|Monroe L\.R\.|Mont\.|Mont\. Co\. L\. Rep\.|Navajo Rptr\.|Neb\. App\.|Neb\.|Nev\.|N\.H\.|N\.J\. Eq\.|N\.J\.L\.|N\.J\. Misc\.|N\.J\.|N\.J\. Super\.|N\.J\. Tax Ct\.|N\.M\.|N\.Y\. Crim\.|Misc\.( ?[23]d)?|N\.Y\.( ?[23]d)?|N\.Y\. St\. Rptr\.|Northam\. Law Rep\.|N\.C\. App\.|N\.C\.( \((Busb\.( Eq\.?)?|Cam\. & Nor\.|Car\. L\. Rep\.|Dev\.( & Bat\.)?( Eq\.)?|Hawks|Hayw\.|(Ired\.?|Jones|Mart\.|Phil\.)( Eq\.?)?|Mur\.?|Tay(lor|\.?)|Win\.?)\))?|N\.D\.|N\. ?E\.|N\.E\. ?[23]d|N\. E\. [23]d|N\. Mar\. I\. Commw\.|N\. Mar\. I\.|Northum\. Co\. Leg\. N\.|Northumb\. L\.J\.|N\. ?W\.|N\.W\. ?2d|N\. W\. 2d|Ohio App\.( [23]d)?|Ohio C\.C\. Dec\.|Ohio C\.C\. \(N\.S\.\)|Ohio Cir\. Dec\.|Ohio Ct\. App\.|Ohio Misc\.|Ohio Misc\. 2d|Ohio Nisi Prius|Ohio Nisi Prius \(N\.S\.\)|Ohio Op\.( [23]d)?|Ohio St\.( [23]d| \(n\.s\.\))?|Okla\. Crim\.|Okla\.|Olwine's L\.J\.|Or\.|Or\. App\.|Or\. Tax|P\.( ?[23]d)?|Paige Ch\.|Park\. Crim\. Rep\.|Pelt\.|Pa\. L\. Rec\.|Pa\. Commw\.|Pa\. Corp\. R\.|Pa\. Co\. Ct\.|Pa\. D\. & C\.( ([23]d|[45]th))?|Pa\. Fid\.( [23]d)?|Pa\. Just\. L\. Rep\.|Pa\. L\.J\. Rep\.|Pa\.|Pa\. Super\. Ct\.|Pennyp\.|Phila\. Co\. R\.|Phila\. Reports|Pin\.|Pittsb\. L\.J\.|Pitts\. R\.|Port\.|P\.R\. Fed\.|Pow\. Surr\.|Mich\. Pr\.|Singer Prob\. Cas\.|N\.Y\. Proc\. Ct\. Ass\.|P\.R\.|Rec\. Q\. Ct\.|Rec\. Ct\. Assistants|Rec\. Co\. Ch\. \(S\.C\.\)|Rec\. Ct\. Gen\. Sess\.|Rec\. Bucks\. Co\. \(Pa\.\)|Rec\. T\. Warwick \(R\.I\.\)|Rec\. Ct\. Ches\. Co\. Pa\.|Rec\. Co\. Ct\.|Rec\. V\.A\. Ct\. \(R\.I\.\)|Redf\.|Ct\. Cl\.|Mich\. Ct\. Cl\.|App\. D\.C\.|Bro\. Com\. P\.|Ashm\. \(Pa\.\)|Conn\. Super\. Ct\.|Disney \(Ohio\)|Binn\.|Pen\. & W\.|Rawle|S\.C\.L\. \((Bail\.|Brev\.|Bay|Chev\.|Dud\.|Harp\.|[HM]ill|McCord|McMul\.|Nott & McC\.|Rice|Rich\.|Ril\.|Speers|Strob\.|Tread\.)\)|S\.C\. Eq\. \(((Bail\.|Chev\.|Dud\.|Harp\.|Hill|McCord|McMul\.|Rice|Rich\.|Ril\.|Speers|Strobh\.) Eq\.|Rich\. Cas\.|Des\.Eq\.)\)|Serg\. & Rawl\.|Watts & Serg\.|Whart\.|Yeates|Handy|Super\. Ct\. Jud\.|Tenn\.( \((Cold\.|Cooke|Hayw\.|Head|Heisk\.|Hum\.|Overt\.|Meigs|Peck|Sneed|Swan|(Mart\. & )?Yer\.)\))?|Grant|Jahn|Gill|G\. & J\.|N\.Y\.|Walk\. Ch\.|Tenn\. Crim\. App\.|H\. & J\.|Wilson|Morris|Watts|D\.C\.|Doug\.|Ark\. Terr\. Rep\.|McGl\.|Wright|Ohio Ch\.|Hay\. & Haz\.|D\.C\. Cir\.|Brightly|Walker|Ind\. App\.|Kan\. App\.|Md\. Ch\.|Md\. Ch\.|Freem\. Ch\.|Wilcox|Harr\. Ch\.|Miles|McCahon|Greene|Myrick|D\. Haw\.|Rep\. Cont\. Elect\. Case\.|Rep\. Cont\. El\.|Howison|Coffey|Charlton|Brewster|Mass\. App\. Div\.|Mass\. App\. Div\.|Goebel|Vaux|Bradf\.|T\.C\.|B\.T\.A\.|R\.I\. Ct\. Rec\.|R\.I\. Dec\.|R\.I\.|Super\. Ct\. \(R\.I\.\)|Robertson's Super\. Ct\. Rep\.|Rob\.|Sand\. Ch\.|Sandford Super\. Ct\. Rep\.|Sarat\. Ch\. Sent\.|Schuy\. L\. Rec\.|Schuy\. Reg\.|Seld\. Notes|Yates|Parsons|Sick\. Op\. Att'y Gen\.|Silv\. Ct\. App\.|Silv\. Sup\.|Smith|Som\. L\.J\.|S\.C\.|S\.D\.|S\. ?E\.|S\.E\. ?2d|S\. E\. 2d|So\.( ?[23]d)?|S\. ?W\.|S\.W\. ?[23]d|S\. W\. [23]d|Stew\.|Stew\. & P\.|S\.C\.D\.C\. \(N\.S\.\)|N\.Y\. Sup\. Ct\.|Susq\. Leg\. Chron\.|Sweeney Super\. Ct\. Rep\.|Robards|La\. App\. \(Teiss\.\)|Tenn\. App\.|Tenn\. Cas\.|Tenn\. Ch\. R\.|Tenn\.|Tex\. Civ\. App\.|Tex\. Ct\. App\.|Tex\. Crim\.|Tex\. L\. R\.|Tex\.|Posey|N\.J\. \(Burlington County Ct\.\)|Cin\. Sup\. Ct\. Rep\.|Com\. Pl\. Rep\.|Pa\. Dist\.|Mass\. Law Rep\.|Mich\. N\.P\. R\.|Westchester|Ohio Law Abs\.|Ohio L\.R\.|Ald\.|Thomp\. & Cook|Blume Sup\. Ct\. Trans\.|Trans\. App\.|Tuck\. Surr\.|Tyl\.|Cl\. Ct\.|U\.S\. App\. D\.C\.|Ct\. Int'l Trade|Cust\. Ct\.|U\. ?S\.|U\.S\. \((Black|Cranch|Dall\.|How\.|Pet\.|Wall\.|Wheat\.)\)|Mann\. Unrep\. Cas\.|Blume Unrep\. Op\.|Unrep\. Tenn\. Cas\.|Utah|Utah 2d|Vt\.|Va\. Cir\.|Va\. Col\. Dec\.|Va\. App\.|Va\. Dec\.|Va\. \((Call|Gilmer|Gratt\.|Hen\. & M\.|Leigh|Munf\.|Patt\. & Heath|Rand\.|Rob\.|Va\. Cas\.|Wash\.)\)|Va\.|V\.I\.|Wash\. App\.|Wash\. Co\.\(Pa\.\)|Wash\.|Wash\. 2d|Wash\. Terr\.|Week\. No\. Cas\. \(Pa\.\)|Wend\.|Wes\. C\.L\.J\.|Tribal|A\. ?[23]d|B\.R\.|F\. App'?x\.?|Haw\.|M\.J\.|N\.Y\.S\. 2d|N\.Y\.S\.|Vet\. App\.|W\. Va\.|Wheel\. Cr\. Cas\.|Wis\.( 2d)?|Wyo\.|Yates Sel\. Cas\.|York Leg\. Rec\.)
    - &caselaw_page ' (?P<Page>\d+)\b(,?( at)? '
    - &pincite '(?P<pincite>\d+)(([-‑–]| to | through )(?P<_pincite_end>\d+)|(,? )?(footnote|f?n\.) ?(?P<footnote>\d+))?\b(?! \w)'
    - ')?'
  idForms: &caselaw_idform [[*id_at, '(p(age|p?\.) ?)?', *pincite]]
  shortForms: &caselaw_shortform [['{Volume} {Reporter},? at (p(age|p?\.) ?)?', *pincite]]
  operations:
    - token: Reporter
      case: lower
    - token: Reporter
      sub: ["[.()&,']", '']
    - token: Reporter
      sub: [' ', '-']
    - token: Reporter
      optionalLookup: {'a-2d':'a2d', 'a-3d':'a3d', 'ad-2d':'ad2d', 'ad-3d':'ad3d', 'calapp':'cal-app','cal-?app-?2d':'cal-app-2d', 'cal-?app-?3d':'cal-app-3d', 'cal-?app-?4th':'cal-app-4th', 'cal-?app-?5th':'cal-app-5th', 'caldistct':'cal-dist-ct', 'calsuperct':'cal-super-ct', 'calunrep':'cal-unrep', 'cal2d':'cal-2d', 'cal3d':'cal-3d', 'cal4th':'cal-4th', 'cal5th':'cal-5th', 'fed-appx':'f-appx', 'f-2d':'f2d', 'f-3d':'f3d', 'fsupp':'f-supp', 'fsupp2d':'f-supp-2d', 'fsupp3d':'f-supp-3d', 'misc-2d':'misc2d', 'misc-3d':'misc3d', 'n-e':'ne', 'ne-2d':'ne2d', 'n-e-2d':'ne2d', 'ne-3d':'ne3d', 'n-e-3d':'ne3d', 'n-w':'nw', 'nw-2d':'nw2d', 'n-w-2d':'nw2d', 'ny-2d':'ny2d', 'ny-3d':'ny3d', 'p-2d':'p2d', 'p-3d':'p3d', 's-e':'se', 'se-2d':'se2d', 's-e-2d':'se2d', 'so-2d':'so2d', 'so-3d':'so3d', 's-w':'sw', 'sw-2d':'sw2d', 's-w-2d':'sw2d', 'sw-3d':'sw3d', 's-w-3d':'sw3d', 'u-s':'us'}
  URL:
    - https://cite.case.law/{Reporter}/{Volume}/{Page}
    - '#p{pincite}'

U.S. Caselaw (CourtListener):
  regex:
    - *caselaw_volume
    - (?P<_reporter>Cal\. ?App\. ?Supp\. ?2d|Cal\. ?Rptr\.( ?[23]d\.?)?|Ill\. ?Dec\.|L\. ?Ed\.?( ?[23]d\.?)?|S\. ?Ct\.?|U\.S\. ?LEXIS)
    - *caselaw_page
    - *pincite
    - ')?'
  operations:
    - token: _reporter
      optionalLookup: {'U\.?S\.? ?(Lexis|LEXIS)': 'U.S. LEXIS', 'Cal\. ?App\. ?Supp\. ?2d': 'Cal.App.Supp.2d', 'Cal\. ?Rptr\.': 'Cal. Rptr.', 'Cal\. ?Rptr\. ?2d': 'Cal. Rptr. 2d', 'Cal\. ?Rptr\. ?3d': 'Cal. Rptr. 3d', 'Ill\.Dec\.': 'Ill. Dec.', 'L\. ?Ed\.?': 'L. Ed.', 'L\. ?Ed\.? ?2d': 'L. Ed. 2d', 'L\. ?Ed\.? ?3d': 'L. Ed. 3d', 'S\. ?Ct\.?': 'S. Ct.'}
    - token: _reporter
      case: lower
      output: Reporter
    - token: Reporter
      sub: ["[.()&,']", '']
    - token: Reporter
      sub: [' ', '-']
  URL: https://www.courtlistener.com/c/{_reporter}/{Volume}/{Page}/
